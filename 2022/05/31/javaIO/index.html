<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="ç¿”ä»”"><meta name="copyright" content="ç¿”ä»”"><meta name="generator" content="Hexo 5.4.2"><meta name="theme" content="hexo-theme-yun"><title>javaIO | ç¿”ä»”çš„åšå®¢</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.2.4/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"example.com","root":"/","title":"ç¿”ä»”çš„å°ç«™","version":"1.8.11","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"vendors":{"darken":"https://cdn.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="åŸºç¡€ä¸€ã€Fileç±»çš„ä½¿ç”¨1. Fileç±»çš„ç†è§£ Fileç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªæ–‡ä»¶ç›®å½•(ä¿—ç§°ï¼šæ–‡ä»¶å¤¹)ã€‚ Fileç±»å£°æ˜åœ¨ java.io åŒ…ä¸‹ï¼šæ–‡ä»¶å’Œæ–‡ä»¶è·¯å¾„çš„æŠ½è±¡è¡¨ç¤ºå½¢å¼ï¼Œä¸å¹³å°æ— å…³ã€‚ Fileç±»ä¸­æ¶‰åŠåˆ°å…³äºæ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„åˆ›å»ºã€åˆ é™¤ã€é‡å‘½åã€ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶å¤§å°ç­‰æ–¹æ³•ï¼Œå¹¶æœªæ¶‰åŠåˆ°å†™å…¥æˆ–è¯»å–æ–‡ä»¶å†…å®¹çš„æ“ä½œã€‚å¦‚æœéœ€è¦è¯»å–æˆ–å†™å…¥æ–‡ä»¶å†…å®¹ï¼Œå¿…é¡»ä½¿ç”¨IOæµæ¥å®Œæˆã€‚ æƒ³è¦åœ¨ Java ç¨‹åºä¸­è¡¨ç¤º">
<meta property="og:type" content="article">
<meta property="og:title" content="javaIO">
<meta property="og:url" content="http://example.com/2022/05/31/javaIO/index.html">
<meta property="og:site_name" content="ç¿”ä»”çš„åšå®¢">
<meta property="og:description" content="åŸºç¡€ä¸€ã€Fileç±»çš„ä½¿ç”¨1. Fileç±»çš„ç†è§£ Fileç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªæ–‡ä»¶ç›®å½•(ä¿—ç§°ï¼šæ–‡ä»¶å¤¹)ã€‚ Fileç±»å£°æ˜åœ¨ java.io åŒ…ä¸‹ï¼šæ–‡ä»¶å’Œæ–‡ä»¶è·¯å¾„çš„æŠ½è±¡è¡¨ç¤ºå½¢å¼ï¼Œä¸å¹³å°æ— å…³ã€‚ Fileç±»ä¸­æ¶‰åŠåˆ°å…³äºæ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„åˆ›å»ºã€åˆ é™¤ã€é‡å‘½åã€ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶å¤§å°ç­‰æ–¹æ³•ï¼Œå¹¶æœªæ¶‰åŠåˆ°å†™å…¥æˆ–è¯»å–æ–‡ä»¶å†…å®¹çš„æ“ä½œã€‚å¦‚æœéœ€è¦è¯»å–æˆ–å†™å…¥æ–‡ä»¶å†…å®¹ï¼Œå¿…é¡»ä½¿ç”¨IOæµæ¥å®Œæˆã€‚ æƒ³è¦åœ¨ Java ç¨‹åºä¸­è¡¨ç¤º">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/13f52c9855f9491682ae865b009b8da8_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/a589532998584955b57a5cbb38595fec_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/ad8ad017f1df41b59d4cc3b2866d6402_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/35986a67e0a944898d70e083b5d671ce_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/fe2d9b7400e643f8838c1aff49b709c0_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/bb27f88081f949b191d05b946c40847c_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/26792fb3c89a4f1babba5cd2808e2c30_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/6615ac1716584f0991523d85e21863ac_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/0f8a2d6c522c4bdba8fe89378e9d5d82_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/6c103716f7cb43ddbd40104eeebd17f3_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/c6106119e0144570b04527222486ffbd_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="og:image" content="http://example.com/2022/05/31/javaIO/59ee6f429cf94040a78337c525fb394f_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp">
<meta property="article:published_time" content="2022-05-31T08:10:44.000Z">
<meta property="article:modified_time" content="2022-08-16T08:54:58.869Z">
<meta property="article:author" content="ç¿”ä»”">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/05/31/javaIO/13f52c9855f9491682ae865b009b8da8_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="ç¿”ä»”"><img width="96" loading="lazy" src="/images/tx.jpg" alt="ç¿”ä»”"><span class="site-author-status" title="ä¸æƒ³ä¸Šå­¦">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">ç¿”ä»”</a></div><span class="site-name">ç¿”ä»”çš„åšå®¢</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="æˆ‘çš„ä¸»é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">28</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">21</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=910426929&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/YunYouJun" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="985391895@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81File%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.</span> <span class="toc-text">ä¸€ã€Fileç±»çš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-File%E7%B1%BB%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. Fileç±»çš„ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-File%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. Fileçš„å®ä¾‹åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%B8%B8%E7%94%A8%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">2.1 å¸¸ç”¨æ„é€ å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E8%B7%AF%E5%BE%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">2.2 è·¯å¾„åˆ†ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E8%B7%AF%E5%BE%84%E5%88%86%E9%9A%94%E7%AC%A6"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">2.3 è·¯å¾„åˆ†éš”ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-File%E7%B1%BB%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.3.</span> <span class="toc-text">3. Fileç±»çš„å¸¸ç”¨æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-File%E7%B1%BB%E7%9A%84%E8%8E%B7%E5%8F%96%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">3.1 Fileç±»çš„è·å–åŠŸèƒ½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-File%E7%B1%BB%E7%9A%84%E9%87%8D%E5%91%BD%E5%90%8D%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">3.2 Fileç±»çš„é‡å‘½ååŠŸèƒ½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-File%E7%B1%BB%E7%9A%84%E5%88%A4%E6%96%AD%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">3.3 Fileç±»çš„åˆ¤æ–­åŠŸèƒ½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-Flie%E7%B1%BB%E7%9A%84%E5%88%9B%E5%BB%BA%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">3.4 Flieç±»çš„åˆ›å»ºåŠŸèƒ½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-File%E7%B1%BB%E7%9A%84%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.3.5.</span> <span class="toc-text">3.5 Fileç±»çš„åˆ é™¤åŠŸèƒ½</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%86%85%E5%AD%98%E8%A7%A3%E6%9E%90"><span class="toc-number">1.1.4.</span> <span class="toc-text">4. å†…å­˜è§£æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%B0%8F%E7%BB%83%E4%B9%A0"><span class="toc-number">1.1.5.</span> <span class="toc-text">5. å°ç»ƒä¹ </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81IO%E6%B5%81%E6%A6%82%E8%BF%B0"><span class="toc-number">1.2.</span> <span class="toc-text">äºŒã€IOæµæ¦‚è¿°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%80%E8%BF%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. ç®€è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B5%81%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. æµçš„åˆ†ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-IO%E6%B5%81%E7%9A%84%E4%BD%93%E7%B3%BB%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. IOæµçš„ä½“ç³»åˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E6%80%BB%E4%BD%93%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">3.1 æ€»ä½“åˆ†ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E5%B8%B8%E7%94%A8%E7%9A%84%E5%87%A0%E4%B8%AAIO%E6%B5%81%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">3.2 å¸¸ç”¨çš„å‡ ä¸ªIOæµç»“æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E5%AF%B9%E6%8A%BD%E8%B1%A1%E5%9F%BA%E7%B1%BB%E7%9A%84%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">3.3 å¯¹æŠ½è±¡åŸºç±»çš„è¯´æ˜ï¼š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E6%A0%87%E5%87%86%E5%8C%96%E8%BF%87%E7%A8%8B"><span class="toc-number">1.2.4.</span> <span class="toc-text">4. è¾“å…¥ã€è¾“å‡ºæ ‡å‡†åŒ–è¿‡ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E8%BE%93%E5%85%A5%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">4.1 è¾“å…¥è¿‡ç¨‹ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-%E8%BE%93%E5%87%BA%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">4.2 è¾“å‡ºè¿‡ç¨‹ï¼š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E8%8A%82%E7%82%B9%E6%B5%81%EF%BC%88%E6%96%87%E4%BB%B6%E6%B5%81%EF%BC%89"><span class="toc-number">1.3.</span> <span class="toc-text">ä¸‰ã€èŠ‚ç‚¹æµï¼ˆæ–‡ä»¶æµï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E5%AD%97%E7%AC%A6%E6%B5%81-FileReader-%E5%92%8C-FileWriter-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. æ–‡ä»¶å­—ç¬¦æµ FileReader å’Œ FileWriter çš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E6%96%87%E4%BB%B6%E7%9A%84%E8%BE%93%E5%85%A5"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">1.1æ–‡ä»¶çš„è¾“å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E6%96%87%E4%BB%B6%E7%9A%84%E8%BE%93%E5%87%BA"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">1.2 æ–‡ä»¶çš„è¾“å‡º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E5%B0%8F%E7%BB%83%E4%B9%A0"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">1.3 å°ç»ƒä¹ </span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E5%AD%97%E8%8A%82%E6%B5%81-FileInputSteam-%E5%92%8C-FileOutputSteam-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. æ–‡ä»¶å­—èŠ‚æµ FileInputSteam å’Œ FileOutputSteam çš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. æ³¨æ„ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-number">1.4.</span> <span class="toc-text">å››ã€ç¼“å†²æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BC%93%E5%86%B2%E6%B5%81%E6%B6%89%E5%8F%8A%E5%88%B0%E7%9A%84%E7%B1%BB%EF%BC%9A"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. ç¼“å†²æµæ¶‰åŠåˆ°çš„ç±»ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BC%95%E5%85%A5%E7%9B%AE%E7%9A%84%EF%BC%9A"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. å¼•å…¥ç›®çš„ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">1.4.3.</span> <span class="toc-text">3. ä½¿ç”¨è¯´æ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1%E4%BD%BF%E7%94%A8-BufferInputStream-%E5%92%8C-BufferOutputStream-%E5%AE%9E%E7%8E%B0%E9%9D%9E%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">3.1ä½¿ç”¨ BufferInputStream å’Œ BufferOutputStream å®ç°éæ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E4%BD%BF%E7%94%A8-BufferedReader-%E5%92%8C-BufferedWriter-%E5%AE%9E%E7%8E%B0%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">3.2 ä½¿ç”¨ BufferedReader å’Œ BufferedWriter å®ç°æ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%B0%8F%E7%BB%83%E4%B9%A0"><span class="toc-number">1.4.4.</span> <span class="toc-text">4. å°ç»ƒä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1%E6%B5%8B%E8%AF%95%E7%BC%93%E5%86%B2%E6%B5%81%E5%92%8C%E8%8A%82%E7%82%B9%E6%B5%81%E6%96%87%E4%BB%B6%E5%A4%8D%E5%88%B6%E9%80%9F%E5%BA%A6"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">4.1æµ‹è¯•ç¼“å†²æµå’ŒèŠ‚ç‚¹æµæ–‡ä»¶å¤åˆ¶é€Ÿåº¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E5%8A%A0%E5%AF%86%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">4.2å®ç°å›¾ç‰‡åŠ å¯†æ“ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E7%BB%9F%E8%AE%A1%E6%96%87%E6%9C%AC%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0"><span class="toc-number">1.4.4.3.</span> <span class="toc-text">4.3 ç»Ÿè®¡æ–‡æœ¬å­—ç¬¦å‡ºç°æ¬¡æ•°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="toc-number">1.5.</span> <span class="toc-text">äº”ã€è½¬æ¢æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. ç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-InputStreamReader"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">1.1 InputStreamReader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-OutputStreamWriter"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">1.2 OutputStreamWriter</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="toc-number">1.5.2.</span> <span class="toc-text">2.ä»£ç ç¤ºä¾‹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BC%96%E7%A0%81%E9%9B%86"><span class="toc-number">1.5.3.</span> <span class="toc-text">3. ç¼–ç é›†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BC%96%E7%A0%81%E8%A1%A8"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">3.1 å¸¸è§çš„ç¼–ç è¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E7%BC%96%E7%A0%81%E5%BA%94%E7%94%A8"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">3.2 ç¼–ç åº”ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-number">1.6.</span> <span class="toc-text">å…­ã€æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%80%E4%BB%8B-1"><span class="toc-number">1.6.1.</span> <span class="toc-text">1.ç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. ä¸»è¦æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.6.3.</span> <span class="toc-text">3. ä½¿ç”¨ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%B0%8F%E7%BB%83%E4%B9%A0-1"><span class="toc-number">1.6.4.</span> <span class="toc-text">4. å°ç»ƒä¹ </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%89%93%E5%8D%B0%E6%B5%81"><span class="toc-number">1.7.</span> <span class="toc-text">ä¸ƒã€æ‰“å°æµ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">1.8.</span> <span class="toc-text">å…«ã€æ•°æ®æµ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%AF%B9%E8%B1%A1%E6%B5%81"><span class="toc-number">1.9.</span> <span class="toc-text">ä¹ã€å¯¹è±¡æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AF%B9%E8%B1%A1%E6%B5%81%EF%BC%9A"><span class="toc-number">1.9.1.</span> <span class="toc-text">1.å¯¹è±¡æµï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%9C%E7%94%A8%EF%BC%9A"><span class="toc-number">1.9.2.</span> <span class="toc-text">2.ä½œç”¨ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">1.9.3.</span> <span class="toc-text">3. å¯¹è±¡çš„åºåˆ—åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%AE%9E%E7%8E%B0%E5%BA%8F%E5%88%97%E5%8C%96%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%89%80%E5%B1%9E%E7%9A%84%E7%B1%BB%E9%9C%80%E8%A6%81%E6%BB%A1%E8%B6%B3%EF%BC%9A"><span class="toc-number">1.9.4.</span> <span class="toc-text">4.å®ç°åºåˆ—åŒ–çš„å¯¹è±¡æ‰€å±çš„ç±»éœ€è¦æ»¡è¶³ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%AF%B9%E8%B1%A1%E6%B5%81%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.9.5.</span> <span class="toc-text">5. å¯¹è±¡æµçš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1%E5%BA%8F%E5%88%97%E5%8C%96%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.9.5.1.</span> <span class="toc-text">5.1åºåˆ—åŒ–ä»£ç å®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.9.5.2.</span> <span class="toc-text">5.2 ååºåˆ—åŒ–ä»£ç å®ç°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E4%BB%BB%E6%84%8F%E5%AD%98%E5%8F%96%E6%96%87%E4%BB%B6%E6%B5%81"><span class="toc-number">1.10.</span> <span class="toc-text">åã€ä»»æ„å­˜å–æ–‡ä»¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%80%E4%BB%8B-2"><span class="toc-number">1.10.1.</span> <span class="toc-text">1.ç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">1.10.2.</span> <span class="toc-text">2.ä½¿ç”¨è¯´æ˜ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">1.10.3.</span> <span class="toc-text">3. ä½¿ç”¨ç¤ºä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E6%B5%81%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%BA%94%E7%94%A8%E6%80%BB%E7%BB%93"><span class="toc-number">1.11.</span> <span class="toc-text">åä¸€ã€æµçš„åŸºæœ¬åº”ç”¨æ€»ç»“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81NIO"><span class="toc-number">1.12.</span> <span class="toc-text">åäºŒã€NIO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-NIO%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">1.12.1.</span> <span class="toc-text">1.NIOçš„ä½¿ç”¨è¯´æ˜ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Path%E6%8E%A5%E5%8F%A3-%E2%80%94JDK-7-0%E6%8F%90%E4%BE%9B"><span class="toc-number">1.12.2.</span> <span class="toc-text">2.Pathæ¥å£ â€”JDK 7.0æä¾›</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1Path%E7%9A%84%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">1.12.2.1.</span> <span class="toc-text">2.1Pathçš„è¯´æ˜ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-Paths%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.12.2.2.</span> <span class="toc-text">2.2 Pathsçš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.12.2.3.</span> <span class="toc-text">2.3 å¸¸ç”¨æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Files%E7%B1%BB"><span class="toc-number">1.12.3.</span> <span class="toc-text">3.Filesç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-Files%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.12.3.1.</span> <span class="toc-text">3.1 Filesç±»å¸¸ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Files%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%88%A4%E6%96%AD"><span class="toc-number">1.12.3.2.</span> <span class="toc-text">3.2 Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºåˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Files%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%93%8D%E4%BD%9C%E5%86%85%E5%AE%B9"><span class="toc-number">1.12.3.3.</span> <span class="toc-text">3.3 Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºæ“ä½œå†…å®¹</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://example.com/2022/05/31/javaIO/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="ç¿”ä»”"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="ç¿”ä»”çš„åšå®¢"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">javaIO</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-31 16:10:44" itemprop="dateCreated datePublished" datetime="2022-05-31T16:10:44+08:00">2022-05-31</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-08-16 16:54:58" itemprop="dateModified" datetime="2022-08-16T16:54:58+08:00">2022-08-16</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%90%8E%E7%AB%AF/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">åç«¯</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/java/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">java</span></a></span></div><div class="post-author"><span class="author-name">ç¿”ä»”</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h1><h2 id="ä¸€ã€Fileç±»çš„ä½¿ç”¨"><a href="#ä¸€ã€Fileç±»çš„ä½¿ç”¨" class="headerlink" title="ä¸€ã€Fileç±»çš„ä½¿ç”¨"></a>ä¸€ã€Fileç±»çš„ä½¿ç”¨</h2><h3 id="1-Fileç±»çš„ç†è§£"><a href="#1-Fileç±»çš„ç†è§£" class="headerlink" title="1. Fileç±»çš„ç†è§£"></a>1. Fileç±»çš„ç†è§£</h3><ul>
<li>Fileç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªæ–‡ä»¶ç›®å½•(ä¿—ç§°ï¼šæ–‡ä»¶å¤¹)ã€‚</li>
<li>Fileç±»å£°æ˜åœ¨ <code>java.io</code> åŒ…ä¸‹ï¼šæ–‡ä»¶å’Œæ–‡ä»¶è·¯å¾„çš„æŠ½è±¡è¡¨ç¤ºå½¢å¼ï¼Œä¸å¹³å°æ— å…³ã€‚</li>
<li>Fileç±»ä¸­æ¶‰åŠåˆ°å…³äºæ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„åˆ›å»ºã€åˆ é™¤ã€é‡å‘½åã€ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶å¤§å°ç­‰æ–¹æ³•ï¼Œå¹¶æœªæ¶‰åŠåˆ°å†™å…¥æˆ–è¯»å–æ–‡ä»¶å†…å®¹çš„æ“ä½œã€‚å¦‚æœéœ€è¦è¯»å–æˆ–å†™å…¥æ–‡ä»¶å†…å®¹ï¼Œå¿…é¡»ä½¿ç”¨IOæµæ¥å®Œæˆã€‚</li>
<li>æƒ³è¦åœ¨ Java ç¨‹åºä¸­è¡¨ç¤ºä¸€ä¸ªçœŸå®å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œé‚£ä¹ˆå¿…é¡»æœ‰ä¸€ä¸ª File å¯¹è±¡ï¼Œä½†æ˜¯ Javaç¨‹åºä¸­çš„ä¸€ä¸ª File å¯¹è±¡ï¼Œå¯èƒ½æ²¡æœ‰ä¸€ä¸ªçœŸå®å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚</li>
<li>åç»­ File ç±»çš„å¯¹è±¡å¸¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°æµçš„æ„é€ å™¨ä¸­ï¼ŒæŒ‡æ˜è¯»å–æˆ–å†™å…¥çš„â€ç»ˆç‚¹â€ã€‚</li>
</ul>
<h3 id="2-Fileçš„å®ä¾‹åŒ–"><a href="#2-Fileçš„å®ä¾‹åŒ–" class="headerlink" title="2. Fileçš„å®ä¾‹åŒ–"></a>2. Fileçš„å®ä¾‹åŒ–</h3><h4 id="2-1-å¸¸ç”¨æ„é€ å™¨"><a href="#2-1-å¸¸ç”¨æ„é€ å™¨" class="headerlink" title="2.1 å¸¸ç”¨æ„é€ å™¨"></a>2.1 å¸¸ç”¨æ„é€ å™¨</h4><ul>
<li><code>File(String filePath)</code></li>
<li><code>File(String parentPath,String childPath)</code></li>
<li><code>File(File parentFile,String childPath)</code></li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//æ„é€ å™¨1</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\workspace_idea\\JavaSenic\\IO\\hello.txt&quot;</span>);</span><br><span class="line">    System.out.println(file1);</span><br><span class="line">    System.out.println(file2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å™¨2</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\workspace_idea\\JavaSenior&quot;</span>, <span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    System.out.println(file3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å™¨3</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(file3, <span class="string">&quot;hi.txt&quot;</span>);</span><br><span class="line">    System.out.println(file4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="2-2-è·¯å¾„åˆ†ç±»"><a href="#2-2-è·¯å¾„åˆ†ç±»" class="headerlink" title="2.2 è·¯å¾„åˆ†ç±»"></a>2.2 è·¯å¾„åˆ†ç±»</h4><ul>
<li>ç›¸å¯¹è·¯å¾„ï¼šç›¸è¾ƒäºæŸä¸ªè·¯å¾„ä¸‹ï¼ŒæŒ‡æ˜çš„è·¯å¾„ã€‚</li>
<li>ç»å¯¹è·¯å¾„ï¼šåŒ…å«ç›˜ç¬¦åœ¨å†…çš„æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„è·¯å¾„ã€‚</li>
</ul>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>IDEAä¸­ï¼š <ul>
<li>å¦‚æœä½¿ç”¨JUnitä¸­çš„å•å…ƒæµ‹è¯•æ–¹æ³•æµ‹è¯•ï¼Œç›¸å¯¹è·¯å¾„å³ä¸ºå½“å‰Moduleä¸‹ã€‚</li>
<li>å¦‚æœä½¿ç”¨main()æµ‹è¯•ï¼Œç›¸å¯¹è·¯å¾„å³ä¸ºå½“å‰çš„Projectä¸‹ã€‚</li>
</ul>
</li>
<li>Eclipseä¸­ï¼š <ul>
<li>ä¸ç®¡ä½¿ç”¨å•å…ƒæµ‹è¯•æ–¹æ³•è¿˜æ˜¯ä½¿ç”¨main()æµ‹è¯•ï¼Œç›¸å¯¹è·¯å¾„éƒ½æ˜¯å½“å‰çš„Projectä¸‹ã€‚</li>
</ul>
</li>
</ul>
<h4 id="2-3-è·¯å¾„åˆ†éš”ç¬¦"><a href="#2-3-è·¯å¾„åˆ†éš”ç¬¦" class="headerlink" title="2.3 è·¯å¾„åˆ†éš”ç¬¦"></a>2.3 è·¯å¾„åˆ†éš”ç¬¦</h4><ul>
<li><p>windowså’ŒDOSç³»ç»Ÿé»˜è®¤ä½¿ç”¨ <code>\</code> æ¥è¡¨ç¤º</p>
</li>
<li><p>UNIXå’ŒURLä½¿ç”¨ <code>/</code> æ¥è¡¨ç¤º</p>
</li>
<li><p>Javaç¨‹åºæ”¯æŒè·¨å¹³å°è¿è¡Œï¼Œå› æ­¤è·¯å¾„åˆ†éš”ç¬¦è¦æ…ç”¨ã€‚</p>
</li>
<li><p>ä¸ºäº†è§£å†³è¿™ä¸ªéšæ‚£ï¼ŒFileç±»æä¾›äº†ä¸€ä¸ªå¸¸é‡ï¼š <code>public static final String separator</code>ã€‚æ ¹æ®æ“ä½œç³»ç»Ÿï¼ŒåŠ¨æ€çš„æä¾›åˆ†éš”ç¬¦ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//windowså’ŒDOSç³»ç»Ÿ</span></span><br><span class="line"><span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\io\\test.txt&quot;</span>);</span><br><span class="line"><span class="comment">//UNIXå’ŒURL</span></span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:/io/test.txt&quot;</span>);</span><br><span class="line"><span class="comment">//javaæä¾›çš„å¸¸é‡</span></span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:&quot;</span>+File.separator+<span class="string">&quot;io&quot;</span>+File.separator+<span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-Fileç±»çš„å¸¸ç”¨æ–¹æ³•"><a href="#3-Fileç±»çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="3. Fileç±»çš„å¸¸ç”¨æ–¹æ³•"></a>3. Fileç±»çš„å¸¸ç”¨æ–¹æ³•</h3><h4 id="3-1-Fileç±»çš„è·å–åŠŸèƒ½"><a href="#3-1-Fileç±»çš„è·å–åŠŸèƒ½" class="headerlink" title="3.1 Fileç±»çš„è·å–åŠŸèƒ½"></a>3.1 Fileç±»çš„è·å–åŠŸèƒ½</h4><ul>
<li><code>public String getAbsolutePath()</code>ï¼šè·å–ç»å¯¹è·¯å¾„</li>
<li><code>public String getPath()</code>ï¼šè·å–è·¯å¾„</li>
<li><code>public String getName()</code> ï¼šè·å–åç§°</li>
<li><code>public String getParent()</code>ï¼šè·å–ä¸Šå±‚æ–‡ä»¶ç›®å½•è·¯å¾„ã€‚è‹¥æ— ï¼Œè¿”å› <code>null</code></li>
<li><code>public long length()</code> ï¼šè·å–æ–‡ä»¶é•¿åº¦ï¼ˆå³ï¼šå­—èŠ‚æ•°ï¼‰ã€‚ä¸èƒ½è·å–ç›®å½•çš„é•¿åº¦ã€‚</li>
<li><code>public long lastModified()</code> ï¼šè·å–æœ€åä¸€æ¬¡çš„ä¿®æ”¹æ—¶é—´ï¼Œæ¯«ç§’å€¼</li>
<li>å¦‚ä¸‹çš„ä¸¤ä¸ªæ–¹æ³•é€‚ç”¨äºæ–‡ä»¶ç›®å½•ï¼š</li>
<li><code>public String[] list()</code> ï¼šè·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•çš„åç§°æ•°ç»„</li>
<li><code>public File[] listFiles()</code> ï¼šè·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•çš„Fileæ•°ç»„</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\io\\hi.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(file1.getAbsolutePath());</span><br><span class="line">    System.out.println(file1.getPath());</span><br><span class="line">    System.out.println(file1.getName());</span><br><span class="line">    System.out.println(file1.getParent());</span><br><span class="line">    System.out.println(file1.length());</span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">Date</span>(file1.lastModified()));</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    System.out.println(file2.getAbsolutePath());</span><br><span class="line">    System.out.println(file2.getPath());</span><br><span class="line">    System.out.println(file2.getName());</span><br><span class="line">    System.out.println(file2.getParent());</span><br><span class="line">    System.out.println(file2.length());</span><br><span class="line">    System.out.println(file2.lastModified());</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\workspace_idea1\\JavaSenior&quot;</span>);</span><br><span class="line"></span><br><span class="line">    String[] list = file.list();</span><br><span class="line">    <span class="keyword">for</span>(String s : list)&#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    File[] files = file.listFiles();</span><br><span class="line">    <span class="keyword">for</span>(File f : files)&#123;</span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="3-2-Fileç±»çš„é‡å‘½ååŠŸèƒ½"><a href="#3-2-Fileç±»çš„é‡å‘½ååŠŸèƒ½" class="headerlink" title="3.2 Fileç±»çš„é‡å‘½ååŠŸèƒ½"></a>3.2 Fileç±»çš„é‡å‘½ååŠŸèƒ½</h4><ul>
<li><code> public boolean renameTo(File dest)</code>:æŠŠæ–‡ä»¶é‡å‘½åä¸ºæŒ‡å®šçš„æ–‡ä»¶è·¯å¾„</li>
<li>æ³¨æ„ï¼š<code>file1.renameTo(file2)</code>ä¸ºä¾‹ï¼šè¦æƒ³ä¿è¯è¿”å› <code>true</code> ,éœ€è¦file1åœ¨ç¡¬ç›˜ä¸­æ˜¯å­˜åœ¨çš„ï¼Œä¸”file2ä¸èƒ½åœ¨ç¡¬ç›˜ä¸­å­˜åœ¨ã€‚</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\io\\hi.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">renameTo</span> <span class="operator">=</span> file2.renameTo(file1);</span><br><span class="line">    System.out.println(renameTo);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="3-3-Fileç±»çš„åˆ¤æ–­åŠŸèƒ½"><a href="#3-3-Fileç±»çš„åˆ¤æ–­åŠŸèƒ½" class="headerlink" title="3.3 Fileç±»çš„åˆ¤æ–­åŠŸèƒ½"></a>3.3 Fileç±»çš„åˆ¤æ–­åŠŸèƒ½</h4><ul>
<li><code>public boolean isDirectory()</code>ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶ç›®å½•</li>
<li><code>public boolean isFile()</code> ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</li>
<li><code>public boolean exists()</code> ï¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨</li>
<li><code>public boolean canRead()</code> ï¼šåˆ¤æ–­æ˜¯å¦å¯è¯»</li>
<li><code>public boolean canWrite()</code> ï¼šåˆ¤æ–­æ˜¯å¦å¯å†™</li>
<li><code>public boolean isHidden()</code> ï¼šåˆ¤æ–­æ˜¯å¦éšè—</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    file1 = <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello1.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(file1.isDirectory());</span><br><span class="line">    System.out.println(file1.isFile());</span><br><span class="line">    System.out.println(file1.exists());</span><br><span class="line">    System.out.println(file1.canRead());</span><br><span class="line">    System.out.println(file1.canWrite());</span><br><span class="line">    System.out.println(file1.isHidden());</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\io&quot;</span>);</span><br><span class="line">    file2 = <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\io1&quot;</span>);</span><br><span class="line">    System.out.println(file2.isDirectory());</span><br><span class="line">    System.out.println(file2.isFile());</span><br><span class="line">    System.out.println(file2.exists());</span><br><span class="line">    System.out.println(file2.canRead());</span><br><span class="line">    System.out.println(file2.canWrite());</span><br><span class="line">    System.out.println(file2.isHidden());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="3-4-Flieç±»çš„åˆ›å»ºåŠŸèƒ½"><a href="#3-4-Flieç±»çš„åˆ›å»ºåŠŸèƒ½" class="headerlink" title="3.4 Flieç±»çš„åˆ›å»ºåŠŸèƒ½"></a>3.4 Flieç±»çš„åˆ›å»ºåŠŸèƒ½</h4><ul>
<li>åˆ›å»ºç¡¬ç›˜ä¸­å¯¹åº”çš„æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•</li>
<li><code>public boolean createNewFile()</code> ï¼šåˆ›å»ºæ–‡ä»¶ã€‚è‹¥æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ä¸åˆ›å»ºï¼Œè¿”å›false</li>
<li><code>public boolean mkdir()</code> ï¼šåˆ›å»ºæ–‡ä»¶ç›®å½•ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•å­˜åœ¨ï¼Œå°±ä¸åˆ›å»ºäº†ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•çš„ä¸Šå±‚ç›®å½•ä¸å­˜åœ¨ï¼Œä¹Ÿä¸åˆ›å»ºã€‚</li>
<li><code>public boolean mkdirs()</code> ï¼šåˆ›å»ºæ–‡ä»¶ç›®å½•ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•å­˜åœ¨ï¼Œå°±ä¸åˆ›å»ºäº†ã€‚å¦‚æœä¸Šå±‚æ–‡ä»¶ç›®å½•ä¸å­˜åœ¨ï¼Œä¸€å¹¶åˆ›å»º</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hi.txt&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(!file1.exists())&#123;</span><br><span class="line">        <span class="comment">//æ–‡ä»¶çš„åˆ›å»º</span></span><br><span class="line">        file1.createNewFile();</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ›å»ºæˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//æ–‡ä»¶å­˜åœ¨</span></span><br><span class="line">        file1.delete();</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test7</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æ–‡ä»¶ç›®å½•çš„åˆ›å»º</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\io\\io1\\io3&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">mkdir</span> <span class="operator">=</span> file1.mkdir();</span><br><span class="line">    <span class="keyword">if</span>(mkdir)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ›å»ºæˆåŠŸ1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\io\\io1\\io4&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">mkdir1</span> <span class="operator">=</span> file2.mkdirs();</span><br><span class="line">    <span class="keyword">if</span>(mkdir1)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ›å»ºæˆåŠŸ2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¦æƒ³åˆ é™¤æˆåŠŸï¼Œio4æ–‡ä»¶ç›®å½•ä¸‹ä¸èƒ½æœ‰å­ç›®å½•æˆ–æ–‡ä»¶</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\io\\io1\\io4&quot;</span>);</span><br><span class="line">    file3 = <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\io\\io1&quot;</span>);</span><br><span class="line">    System.out.println(file3.delete());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="3-5-Fileç±»çš„åˆ é™¤åŠŸèƒ½"><a href="#3-5-Fileç±»çš„åˆ é™¤åŠŸèƒ½" class="headerlink" title="3.5 Fileç±»çš„åˆ é™¤åŠŸèƒ½"></a>3.5 Fileç±»çš„åˆ é™¤åŠŸèƒ½</h4><ul>
<li>åˆ é™¤ç£ç›˜ä¸­çš„æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•</li>
<li><code>public boolean delete()</code>ï¼šåˆ é™¤æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹</li>
<li>åˆ é™¤æ³¨æ„äº‹é¡¹ï¼šJavaä¸­çš„åˆ é™¤ä¸èµ°å›æ”¶ç«™ã€‚</li>
</ul>
<h3 id="4-å†…å­˜è§£æ"><a href="#4-å†…å­˜è§£æ" class="headerlink" title="4. å†…å­˜è§£æ"></a>4. å†…å­˜è§£æ</h3><p><img src="/2022/05/31/javaIO/13f52c9855f9491682ae865b009b8da8_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200430231445700" loading="lazy"></p>
<h3 id="5-å°ç»ƒä¹ "><a href="#5-å°ç»ƒä¹ " class="headerlink" title="5. å°ç»ƒä¹ "></a>5. å°ç»ƒä¹ </h3><p>åˆ©ç”¨ File æ„é€ å™¨ï¼Œ<code>new</code> ä¸€ä¸ªæ–‡ä»¶ç›®å½•file</p>
<p>1ï¼‰åœ¨å…¶ä¸­åˆ›å»ºå¤šä¸ªæ–‡ä»¶å’Œç›®å½•</p>
<p>2ï¼‰ç¼–å†™æ–¹æ³•ï¼Œå®ç°åˆ é™¤fleä¸­æŒ‡å®šæ–‡ä»¶çš„æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\io\\io1\\hello.txt&quot;</span>);</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªä¸fileåŒç›®å½•ä¸‹çš„å¦å¤–ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºï¼šhaha.txt</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(file.getParent(),<span class="string">&quot;haha.txt&quot;</span>);</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">newFile</span> <span class="operator">=</span> destFile.createNewFile();</span><br><span class="line">    <span class="keyword">if</span>(newFile)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ›å»ºæˆåŠŸï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>åˆ¤æ–­æŒ‡å®šç›®å½•ä¸‹æ˜¯å¦æœ‰åç¼€åä¸º <code>.jpg</code> çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œå°±è¾“å‡ºè¯¥æ–‡ä»¶åç§°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FindJPGFileTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\code&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String[] fileNames = srcFile.list();</span><br><span class="line">        <span class="keyword">for</span>(String fileName : fileNames)&#123;</span><br><span class="line">            <span class="keyword">if</span>(fileName.endsWith(<span class="string">&quot;.jpg&quot;</span>))&#123;</span><br><span class="line">                System.out.println(fileName);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\code&quot;</span>);</span><br><span class="line"></span><br><span class="line">        File[] listFiles = srcFile.listFiles();</span><br><span class="line">        <span class="keyword">for</span>(File file : listFiles)&#123;</span><br><span class="line">            <span class="keyword">if</span>(file.getName().endsWith(<span class="string">&quot;.jpg&quot;</span>))&#123;</span><br><span class="line">                System.out.println(file.getAbsolutePath());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * Fileç±»æä¾›äº†ä¸¤ä¸ªæ–‡ä»¶è¿‡æ»¤å™¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">	 * public String[] list(FilenameFilter filter)</span></span><br><span class="line"><span class="comment">	 * public File[] listFiles(FileFilter filter)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\code&quot;</span>);</span><br><span class="line"></span><br><span class="line">        File[] subFiles = srcFile.listFiles(<span class="keyword">new</span> <span class="title class_">FilenameFilter</span>() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">accept</span><span class="params">(File dir, String name)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> name.endsWith(<span class="string">&quot;.jpg&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(File file : subFiles)&#123;</span><br><span class="line">            System.out.println(file.getAbsolutePath());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>éå†æŒ‡å®šç›®å½•æ‰€æœ‰æ–‡ä»¶åç§°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚</p>
<p>æ‹“å±•1ï¼šå¹¶è®¡ç®—æŒ‡å®šç›®å½•å ç”¨ç©ºé—´çš„å¤§å°</p>
<p>æ‹“å±•2ï¼šåˆ é™¤æŒ‡å®šæ–‡ä»¶ç›®å½•åŠå…¶ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListFileTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// é€’å½’:æ–‡ä»¶ç›®å½•</span></span><br><span class="line">        <span class="comment">/** æ‰“å°å‡ºæŒ‡å®šç›®å½•æ‰€æœ‰æ–‡ä»¶åç§°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶ç›®å½•ä¸­çš„æ–‡ä»¶ */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.åˆ›å»ºç›®å½•å¯¹è±¡</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\test&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.æ‰“å°å­ç›®å½•</span></span><br><span class="line">        printSubFile(file);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å½’æ–¹æ³•éå†æ‰€æœ‰ç›®å½•ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printSubFile</span><span class="params">(File dir)</span> &#123;</span><br><span class="line">        <span class="comment">//æ‰“å°å­ç›®å½•</span></span><br><span class="line">        File[] files = dir.listFiles();</span><br><span class="line">        <span class="keyword">for</span> (File f : files) &#123;</span><br><span class="line">            <span class="keyword">if</span> (f.isDirectory()) &#123;<span class="comment">//å¦‚æœä¸ºæ–‡ä»¶ç›®å½•ï¼Œåˆ™é€’å½’è°ƒç”¨è‡ªèº«</span></span><br><span class="line">                printSubFile(f);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(f.getAbsolutePath());<span class="comment">//è¾“å‡ºç»å¯¹è·¯å¾„</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹“å±•1ï¼šæ±‚æŒ‡å®šç›®å½•æ‰€åœ¨ç©ºé—´çš„å¤§å°</span></span><br><span class="line">    <span class="comment">// æ±‚ä»»æ„ä¸€ä¸ªç›®å½•çš„æ€»å¤§å°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getDirectorySize</span><span class="params">(File file)</span> &#123;</span><br><span class="line">        <span class="comment">// fileæ˜¯æ–‡ä»¶ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›file.length()</span></span><br><span class="line">        <span class="comment">// fileæ˜¯ç›®å½•ï¼ŒæŠŠå®ƒçš„ä¸‹ä¸€çº§çš„æ‰€æœ‰å¤§å°åŠ èµ·æ¥å°±æ˜¯å®ƒçš„æ€»å¤§å°</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (file.isFile()) &#123;</span><br><span class="line">            size += file.length();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            File[] allFiles = file.listFiles();<span class="comment">// è·å–fileçš„ä¸‹ä¸€çº§</span></span><br><span class="line">            <span class="comment">// ç´¯åŠ all[i]çš„å¤§å°</span></span><br><span class="line">            <span class="keyword">for</span> (File f : allFiles) &#123;</span><br><span class="line">                size += getDirectorySize(f);<span class="comment">//fçš„å¤§å°</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‹“å±•2ï¼šåˆ é™¤æŒ‡å®šçš„ç›®å½•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteDirectory</span><span class="params">(File file)</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœfileæ˜¯æ–‡ä»¶ï¼Œç›´æ¥delete</span></span><br><span class="line">        <span class="comment">// å¦‚æœfileæ˜¯ç›®å½•ï¼Œå…ˆæŠŠå®ƒçš„ä¸‹ä¸€çº§å¹²æ‰ï¼Œç„¶ååˆ é™¤è‡ªå·±</span></span><br><span class="line">        <span class="keyword">if</span> (file.isDirectory()) &#123;</span><br><span class="line">            File[] allFiles = file.listFiles();</span><br><span class="line">            <span class="comment">//é€’å½’è°ƒç”¨åˆ é™¤fileä¸‹ä¸€çº§</span></span><br><span class="line">            <span class="keyword">for</span> (File f : allFiles) &#123;</span><br><span class="line">                deleteDirectory(f);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//åˆ é™¤æ–‡ä»¶</span></span><br><span class="line">            file.delete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€IOæµæ¦‚è¿°"><a href="#äºŒã€IOæµæ¦‚è¿°" class="headerlink" title="äºŒã€IOæµæ¦‚è¿°"></a>äºŒã€IOæµæ¦‚è¿°</h2><h3 id="1-ç®€è¿°"><a href="#1-ç®€è¿°" class="headerlink" title="1. ç®€è¿°"></a>1. ç®€è¿°</h3><ul>
<li>IO æ˜¯ Input/Output çš„ç¼©å†™ï¼ŒI/O æŠ€æœ¯æ˜¯éå¸¸å®ç”¨çš„æŠ€æœ¯ï¼Œç”¨äºå¤„ç†è®¾å¤‡ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚å¦‚è¯»/å†™æ–‡ä»¶ï¼Œç½‘ç»œé€šè®¯ç­‰ã€‚</li>
<li>Javaç¨‹åºä¸­ï¼Œå¯¹äºæ•°æ®çš„è¾“å…¥è¾“å‡ºæ“ä½œä»¥ â€œæµ(stream)â€ çš„æ–¹å¼è¿›è¡Œã€‚</li>
<li><code>Java.IO</code> åŒ…ä¸‹æä¾›äº†å„ç§â€œæµâ€ç±»å’Œæ¥å£ï¼Œç”¨ä»¥è·å–ä¸åŒç§ç±»çš„æ•°æ®ï¼Œå¹¶é€šè¿‡æ ‡å‡†çš„æ–¹æ³•è¾“å…¥æˆ–è¾“å‡ºæ•°æ®ã€‚</li>
</ul>
<h3 id="2-æµçš„åˆ†ç±»"><a href="#2-æµçš„åˆ†ç±»" class="headerlink" title="2. æµçš„åˆ†ç±»"></a>2. æµçš„åˆ†ç±»</h3><p><strong>æ“ä½œæ•°æ®å•ä½ï¼šå­—èŠ‚æµã€å­—ç¬¦æµ</strong></p>
<ul>
<li>å¯¹äºæ–‡æœ¬æ–‡ä»¶(<code>.txt,.java,.c,.cpp</code>)ï¼Œä½¿ç”¨å­—ç¬¦æµå¤„ç†</li>
<li>å¯¹äºéæ–‡æœ¬æ–‡ä»¶(<code>.jpg,.mp3,.mp4,.avi,.doc,.ppt,...</code>)ï¼Œä½¿ç”¨å­—èŠ‚æµå¤„ç†</li>
</ul>
<p>ä¿¡æ¯çš„æœ€å°å­˜å‚¨å•å…ƒæ˜¯å­—èŠ‚ï¼Œä¸ºä»€ä¹ˆioæµæ“ä½œè¦åˆ†ä¸ºå­—èŠ‚æµå’Œå­—ç¬¦æµï¼š</p>
<p>1.å­—ç¬¦æµç”±javaè™šæ‹Ÿæœºå°†å­—èŠ‚æµè½¬æ¢å¾—åˆ°ï¼Œæ¯”è¾ƒè€—æ—¶</p>
<p>2.å¦‚æœä¸çŸ¥é“ç¼–ç ç±»å‹å°±å®¹æ˜“å‡ºç°ä¹±ç é—®é¢˜</p>
<p>å› æ­¤ioæµç›´æ¥æä¾›æ“ä½œå­—ç¬¦çš„æ¥å£ï¼Œæ–¹ä¾¿å¯¹å­—ç¬¦æ“ä½œ</p>
<p>å­—ç¬¦æµé»˜è®¤é‡‡ç”¨unicodeç¼–ç ï¼Œ</p>
<blockquote>
<p>å¸¸ç”¨å­—ç¬¦ç¼–ç æ‰€å å­—èŠ‚æ•°ï¼Ÿ</p>
<p> <code>utf8</code> :è‹±æ–‡å  1 å­—èŠ‚ï¼Œä¸­æ–‡å  3 å­—èŠ‚ï¼Œ<code>unicode</code>ï¼šä»»ä½•å­—ç¬¦éƒ½å  2 ä¸ªå­—èŠ‚ï¼Œ<code>gbk</code>ï¼šè‹±æ–‡å  1 å­—èŠ‚ï¼Œä¸­æ–‡å  2 å­—èŠ‚ã€‚ </p>
</blockquote>
<p><strong>æ•°æ®çš„æµå‘ï¼šè¾“å…¥æµã€è¾“å‡ºæµ</strong></p>
<ul>
<li>è¾“å…¥ input:è¯»å–å¤–éƒ¨æ•°æ®ï¼ˆç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡çš„æ•°æ®ï¼‰åˆ°ç¨‹åºï¼ˆå†…å­˜ï¼‰ä¸­ã€‚</li>
<li>è¾“å‡º output:å°†ç¨‹åºï¼ˆå†…å­˜ï¼‰æ•°æ®è¾“å‡ºåˆ°ç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡ä¸­ã€‚</li>
</ul>
<p><strong>æµçš„è§’è‰²ï¼šèŠ‚ç‚¹æµã€å¤„ç†æµ</strong></p>
<p>èŠ‚ç‚¹æµï¼šç›´æ¥ä»æ•°æ®æºæˆ–ç›®çš„åœ°è¯»å†™æ•°æ®ã€‚</p>
<p><img src="/2022/05/31/javaIO/a589532998584955b57a5cbb38595fec_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502092206789" loading="lazy"></p>
<p>å¤„ç†æµï¼šä¸ç›´æ¥è¿æ¥åˆ°æ•°æ®æºæˆ–ç›®çš„åœ°ï¼Œè€Œæ˜¯â€œè¿æ¥â€åœ¨å·²å­˜åœ¨çš„æµï¼ˆèŠ‚ç‚¹æµæˆ–å¤„ç†æµï¼‰ä¹‹ä¸Šï¼Œé€šè¿‡å¯¹æ•°æ®çš„å¤„ç†ä¸ºç¨‹åºæä¾›æ›´ä¸ºå¼ºå¤§çš„è¯»å†™åŠŸèƒ½ã€‚</p>
<p><img src="/2022/05/31/javaIO/ad8ad017f1df41b59d4cc3b2866d6402_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502092221437" loading="lazy"></p>
<p><strong>å›¾ç¤ºï¼š</strong></p>
<p><img src="/2022/05/31/javaIO/35986a67e0a944898d70e083b5d671ce_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502091548532" loading="lazy"></p>
<h3 id="3-IOæµçš„ä½“ç³»åˆ†ç±»"><a href="#3-IOæµçš„ä½“ç³»åˆ†ç±»" class="headerlink" title="3. IOæµçš„ä½“ç³»åˆ†ç±»"></a>3. IOæµçš„ä½“ç³»åˆ†ç±»</h3><h4 id="3-1-æ€»ä½“åˆ†ç±»"><a href="#3-1-æ€»ä½“åˆ†ç±»" class="headerlink" title="3.1 æ€»ä½“åˆ†ç±»"></a>3.1 æ€»ä½“åˆ†ç±»</h4><p><img src="/2022/05/31/javaIO/fe2d9b7400e643f8838c1aff49b709c0_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502091615386" loading="lazy"></p>
<blockquote>
<p>çº¢æ¡†ä¸ºæŠ½è±¡åŸºç±»ï¼Œè“æ¡†ä¸ºå¸¸ç”¨IOæµ</p>
</blockquote>
<h4 id="3-2-å¸¸ç”¨çš„å‡ ä¸ªIOæµç»“æ„"><a href="#3-2-å¸¸ç”¨çš„å‡ ä¸ªIOæµç»“æ„" class="headerlink" title="3.2 å¸¸ç”¨çš„å‡ ä¸ªIOæµç»“æ„"></a>3.2 å¸¸ç”¨çš„å‡ ä¸ªIOæµç»“æ„</h4><table>
<thead>
<tr>
<th>æŠ½è±¡åŸºç±»</th>
<th>èŠ‚ç‚¹æµï¼ˆæˆ–æ–‡ä»¶æµï¼‰</th>
<th>ç¼“å†²æµï¼ˆå¤„ç†æµçš„ä¸€ç§ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>InputStream</td>
<td><code>FileInputStream (read(byte[] buffer))</code></td>
<td><code>BufferedInputStream (read(byte[] buffer))</code></td>
</tr>
<tr>
<td>OutputSteam</td>
<td><code>FileOutputStream (write(byte[] buffer,0,len)</code></td>
<td><code>BufferedOutputStream (write(byte[] buffer,0,len)</code> / <code>flush()</code></td>
</tr>
<tr>
<td>Reader</td>
<td><code>FileReader (read(char[] cbuf))</code></td>
<td><code>BufferedReader (read(char[] cbuf)</code> / <code>readLine()</code></td>
</tr>
<tr>
<td>Writer</td>
<td><code>FileWriter (write(char[] cbuf,0,len)</code></td>
<td><code>BufferedWriter (write(char[] cbuf,0,len)</code> / <code>flush()</code></td>
</tr>
</tbody></table>
<h4 id="3-3-å¯¹æŠ½è±¡åŸºç±»çš„è¯´æ˜ï¼š"><a href="#3-3-å¯¹æŠ½è±¡åŸºç±»çš„è¯´æ˜ï¼š" class="headerlink" title="3.3 å¯¹æŠ½è±¡åŸºç±»çš„è¯´æ˜ï¼š"></a>3.3 å¯¹æŠ½è±¡åŸºç±»çš„è¯´æ˜ï¼š</h4><table>
<thead>
<tr>
<th>æŠ½è±¡åŸºç±»</th>
<th>å­—èŠ‚æµ</th>
<th>å­—ç¬¦æµ</th>
</tr>
</thead>
<tbody><tr>
<td>è¾“å…¥æµ</td>
<td>InputSteam</td>
<td>Reader</td>
</tr>
<tr>
<td>è¾“å‡ºæµ</td>
<td>OutputSteam</td>
<td>Writer</td>
</tr>
</tbody></table>
<ul>
<li>è¯´æ˜ï¼šJavaçš„lOæµå…±æ¶‰åŠ40å¤šä¸ªç±»ï¼Œå®é™…ä¸Šéå¸¸è§„åˆ™ï¼Œéƒ½æ˜¯ä»å¦‚ä¸‹4ä¸ªæŠ½è±¡åŸºç±»æ´¾ç”Ÿçš„ã€‚</li>
<li>ç”±è¿™å››ä¸ªç±»æ´¾ç”Ÿå‡ºæ¥çš„å­ç±»åç§°éƒ½æ˜¯ä»¥å…¶çˆ¶ç±»åä½œä¸ºå­ç±»ååç¼€ã€‚</li>
</ul>
<p>3.3.1InputSteam &amp; Reader</p>
<ul>
<li>InputStreamå’ŒReaderæ˜¯æ‰€æœ‰è¾“å…¥æµçš„åŸºç±»ã€‚</li>
<li>InputStreamï¼ˆå…¸å‹å®ç°ï¼šFileInputStreamï¼‰<ul>
<li><code>int read()</code></li>
<li><code>int read(byte[] b)</code></li>
<li><code>int read(byte[] b,int off,int len)</code></li>
</ul>
</li>
<li>Readerï¼ˆå…¸å‹å®ç°ï¼šFileReaderï¼‰<ul>
<li><code>int read()</code></li>
<li><code>int read(char[] c)</code></li>
<li><code>int read(char[] c,int off,int len)</code></li>
</ul>
</li>
<li>ç¨‹åºä¸­æ‰“å¼€çš„æ–‡ä»¶IOèµ„æºä¸å±äºå†…å­˜é‡Œçš„èµ„æºï¼Œåƒåœ¾å›æ”¶æœºåˆ¶æ— æ³•å›æ”¶è¯¥èµ„æºï¼Œæ‰€ä»¥åº”è¯¥æ˜¾å¼å…³é—­æ–‡ä»¶IOèµ„æºã€‚</li>
<li>FileInputStream ä»æ–‡ä»¶ç³»ç»Ÿä¸­çš„æŸä¸ªæ–‡ä»¶ä¸­è·å¾—è¾“å…¥å­—èŠ‚ã€‚FileInputStream ç”¨äºè¯»å–éæ–‡æœ¬æ•°æ®ä¹‹ç±»çš„åŸå§‹å­—èŠ‚æµã€‚è¦è¯»å–å­—ç¬¦æµï¼Œéœ€è¦ä½¿ç”¨ FileReaderã€‚</li>
</ul>
<p><strong>InputSteamï¼š</strong></p>
<ul>
<li><p><code>int read()</code></p>
<p>ä»è¾“å…¥æµä¸­è¯»å–æ•°æ®çš„ä¸‹ä¸€ä¸ªå­—èŠ‚ã€‚è¿”å›0åˆ°255èŒƒå›´å†…çš„intå­—èŠ‚å€¼ã€‚å¦‚æœå› ä¸ºå·²ç»åˆ°è¾¾æµæœ«å°¾è€Œæ²¡æœ‰å¯ç”¨çš„å­—èŠ‚ï¼Œåˆ™è¿”å›å€¼-1ã€‚</p>
</li>
<li><p><code>int read(byte[] b)</code></p>
<p>ä»æ­¤è¾“å…¥æµä¸­å°†æœ€å¤šb.lengthä¸ªå­—èŠ‚çš„æ•°æ®è¯»å…¥ä¸€ä¸ªbyteæ•°ç»„ä¸­ã€‚å¦‚æœå› ä¸ºå·²ç»åˆ°è¾¾æµæœ«å°¾è€Œæ²¡æœ‰å¯ç”¨çš„å­—èŠ‚ï¼Œåˆ™è¿”å›å€¼-1.å¦åˆ™ä»¥æ•´æ•°å½¢å¼è¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•°ã€‚</p>
</li>
<li><p><code>int read(byte[] b,int off,int len)</code></p>
<p>å°†è¾“å…¥æµä¸­æœ€å¤šlenä¸ªæ•°æ®å­—èŠ‚è¯»å…¥byteæ•°ç»„ã€‚å°è¯•è¯»å–lenä¸ªå­—èŠ‚ï¼Œä½†è¯»å–çš„å­—èŠ‚ä¹Ÿå¯èƒ½å°äºè¯¥å€¼ã€‚ä»¥æ•´æ•°å½¢å¼è¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•°ã€‚å¦‚æœå› ä¸ºæµä½äºæ–‡ä»¶æœ«å°¾è€Œæ²¡æœ‰å¯ç”¨çš„å­—èŠ‚ï¼Œåˆ™è¿”å›å€¼-1ã€‚</p>
</li>
<li><p><code>public void close throws IOException</code></p>
<p>å…³é—­æ­¤è¾“å…¥æµå¹¶é‡Šæ”¾ä¸è¯¥æµå…³è”çš„æ‰€æœ‰ç³»ç»Ÿèµ„æºã€‚</p>
</li>
</ul>
<p><strong>Readerï¼š</strong></p>
<ul>
<li><p><code>int read()</code></p>
<p>è¯»å–å•ä¸ªå­—ç¬¦ã€‚ä½œä¸ºæ•´æ•°è¯»å–çš„å­—ç¬¦ï¼ŒèŒƒå›´åœ¨0åˆ°65535ä¹‹é—´ï¼ˆ0x00-0xffffï¼‰(2ä¸ªå­—èŠ‚çš„ Unicodeç )ï¼Œå¦‚æœå·²åˆ°è¾¾æµçš„æœ«å°¾ï¼Œåˆ™è¿”å›-1ã€‚</p>
</li>
<li><p><code>int readï¼ˆchar[] cbuf)</code></p>
<p>å°†å­—ç¬¦è¯»å…¥æ•°ç»„ã€‚å¦‚æœå·²åˆ°è¾¾æµçš„æœ«å°¾ï¼Œåˆ™è¿”å›-1ã€‚å¦åˆ™è¿”å›æœ¬æ¬¡è¯»å–çš„å­—ç¬¦æ•°ã€‚</p>
</li>
<li><p><code>int readï¼ˆchar[] cbuf,int off,int len)</code></p>
<p>å°†å­—ç¬¦è¯»å…¥æ•°ç»„çš„æŸä¸€éƒ¨åˆ†ã€‚å­˜åˆ°æ•°ç»„cbufä¸­ï¼Œä»offå¤„å¼€å§‹å­˜å‚¨ï¼Œæœ€å¤šè¯»lenä¸ªå­—ç¬¦ã€‚å¦‚æœå·²åˆ°è¾¾æµçš„æœ«å°¾ï¼Œåˆ™è¿”å›-1ã€‚å¦åˆ™è¿”å›æœ¬æ¬¡è¯»å–çš„å­—ç¬¦æ•°ã€‚</p>
</li>
<li><p><code>public void close throws IOException</code></p>
<p>å…³é—­æ­¤è¾“å…¥æµå¹¶é‡Šæ”¾ä¸è¯¥æµå…³è”çš„æ‰€æœ‰ç³»ç»Ÿèµ„æº</p>
</li>
</ul>
<p>3.3.2 OutputSteam &amp; Writer</p>
<ul>
<li>OutputStream å’Œ Writerä¹Ÿéå¸¸ç›¸ä¼¼ï¼š <ul>
<li><code>void write(int b/int c);</code></li>
<li><code>void write(byte[] b/char[] cbuf);</code></li>
<li><code>void write(byte[] b/char[] buff,int off,int len);</code></li>
<li><code>void flush();</code></li>
<li><code> void close();//éœ€è¦å…ˆåˆ·æ–°ï¼Œå†å…³é—­æ­¤æµ</code></li>
</ul>
</li>
<li>å› ä¸ºå­—ç¬¦æµç›´æ¥ä»¥å­—ç¬¦ä½œä¸ºæ“ä½œå•ä½ï¼Œæ‰€ä»¥ Writerå¯ä»¥ç”¨å­—ç¬¦ä¸²æ¥æ›¿æ¢å­—ç¬¦æ•°ç»„ï¼Œå³ä»¥ Stringå¯¹è±¡ä½œä¸ºå‚æ•° <ul>
<li><code>void write(String str);</code></li>
<li><code>void write(String str,int off,int len);</code></li>
</ul>
</li>
<li>FileOutputStream ä»æ–‡ä»¶ç³»ç»Ÿä¸­çš„æŸä¸ªæ–‡ä»¶ä¸­è·å¾—è¾“å‡ºå­—èŠ‚ã€‚FileOutputstream ç”¨äºå†™å‡ºéæ–‡æœ¬æ•°æ®ä¹‹ç±»çš„åŸå§‹å­—èŠ‚æµã€‚è¦å†™å‡ºå­—ç¬¦æµï¼Œéœ€è¦ä½¿ç”¨ FileWriter</li>
</ul>
<p><strong>OutputStream:</strong></p>
<ul>
<li><p><code>void write(int b)</code></p>
<p>å°†æŒ‡å®šçš„å­—èŠ‚å†™å…¥æ­¤è¾“å‡ºæµã€‚ writeçš„å¸¸è§„åå®šæ˜¯ï¼šå‘è¾“å‡ºæµå†™å…¥ä¸€ä¸ªå­—èŠ‚ã€‚è¦å†™å…¥çš„å­—èŠ‚æ˜¯å‚æ•°bçš„å…«ä¸ªä½ä½ã€‚bçš„24ä¸ªé«˜ä½å°†è¢«å¿½ç•¥ã€‚å³å†™å…¥0~255èŒƒå›´çš„</p>
</li>
<li><p><code>void writeï¼ˆbyte[] b)</code></p>
<p>å°† <code>b.length</code> ä¸ªå­—èŠ‚ä»æŒ‡å®šçš„byteæ•°ç»„å†™å…¥æ­¤è¾“å‡ºæµã€‚<code>write(b)</code>çš„å¸¸è§„åå®šæ˜¯ï¼šåº”è¯¥ä¸è°ƒç”¨<code>wite(b,0,b.length)</code>çš„æ•ˆæœå®Œå…¨ç›¸åŒã€‚</p>
</li>
<li><p><code>void write(byte[] b,int off,int len)</code></p>
<p>å°†æŒ‡å®šbyteæ•°ç»„ä¸­ä»åç§»é‡offå¼€å§‹çš„lenä¸ªå­—èŠ‚å†™å…¥æ­¤è¾“å‡ºæµã€‚</p>
</li>
<li><p><code>public void flush()throws IOException</code></p>
<p>åˆ·æ–°æ­¤è¾“å‡ºæµå¹¶å¼ºåˆ¶å†™å‡ºæ‰€æœ‰ç¼“å†²çš„è¾“å‡ºå­—èŠ‚ï¼Œè°ƒç”¨æ­¤æ–¹æ³•æŒ‡ç¤ºåº”å°†è¿™äº›å­—èŠ‚ç«‹å³å†™å…¥å®ƒä»¬é¢„æœŸçš„ç›®æ ‡ã€‚</p>
</li>
<li><p><code>public void close throws IOException</code></p>
<p>å…³é—­æ­¤è¾“å²€æµå¹¶é‡Šæ”¾ä¸è¯¥æµå…³è”çš„æ‰€æœ‰ç³»ç»Ÿèµ„æºã€‚</p>
</li>
</ul>
<p><strong>Writer:</strong></p>
<ul>
<li><p><code>void write(int c)</code></p>
<p>å†™å…¥å•ä¸ªå­—ç¬¦ã€‚è¦å†™å…¥çš„å­—ç¬¦åŒ…å«åœ¨ç»™å®šæ•´æ•°å€¼çš„16ä¸ªä½ä½ä¸­ï¼Œ16é«˜ä½è¢«å¿½ç•¥ã€‚å³å†™å…¥0åˆ°65535ä¹‹é—´çš„ Unicodeç ã€‚</p>
</li>
<li><p><code>void write(char[] cbuf)</code></p>
<p>å†™å…¥å­—ç¬¦æ•°ç»„</p>
</li>
<li><p><code>void write(char[] cbuf,int off,int len)</code></p>
<p>å†™å…¥å­—ç¬¦æ•°ç»„çš„æŸä¸€éƒ¨åˆ†ã€‚ä»offå¼€å§‹ï¼Œå†™å…¥lenä¸ªå­—ç¬¦</p>
</li>
<li><p><code>void write(String str)</code></p>
<p>å†™å…¥å­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p><code>void write(String str,int off,int len)</code></p>
<p>å†™å…¥å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ†ã€‚</p>
</li>
<li><p><code>void flush()</code></p>
<p>åˆ·æ–°è¯¥æµçš„ç¼“å†²ï¼Œåˆ™ç«‹å³å°†å®ƒä»¬å†™å…¥é¢„æœŸç›®æ ‡ã€‚</p>
</li>
<li><p><code>public void close throws IOException</code></p>
<p>å…³é—­æ­¤è¾“å‡ºæµå¹¶é‡Šæ”¾ä¸è¯¥æµå…³è”çš„æ‰€æœ‰ç³»ç»Ÿèµ„æº</p>
</li>
</ul>
<h3 id="4-è¾“å…¥ã€è¾“å‡ºæ ‡å‡†åŒ–è¿‡ç¨‹"><a href="#4-è¾“å…¥ã€è¾“å‡ºæ ‡å‡†åŒ–è¿‡ç¨‹" class="headerlink" title="4. è¾“å…¥ã€è¾“å‡ºæ ‡å‡†åŒ–è¿‡ç¨‹"></a>4. è¾“å…¥ã€è¾“å‡ºæ ‡å‡†åŒ–è¿‡ç¨‹</h3><h4 id="4-1-è¾“å…¥è¿‡ç¨‹ï¼š"><a href="#4-1-è¾“å…¥è¿‡ç¨‹ï¼š" class="headerlink" title="4.1 è¾“å…¥è¿‡ç¨‹ï¼š"></a>4.1 è¾“å…¥è¿‡ç¨‹ï¼š</h4><p>â‘  åˆ›å»º File ç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¯»å–çš„æ•°æ®çš„æ¥æºã€‚ï¼ˆè¦æ±‚æ­¤æ–‡ä»¶ä¸€å®šè¦å­˜åœ¨ï¼‰</p>
<p>â‘¡ åˆ›å»ºç›¸åº”çš„è¾“å…¥æµï¼Œå°† File ç±»çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥æµçš„æ„é€ å™¨ä¸­</p>
<p>â‘¢ å…·ä½“çš„è¯»å…¥è¿‡ç¨‹ï¼šåˆ›å»ºç›¸åº”çš„ <code>byte[]</code> æˆ– <code>char[]</code>ã€‚</p>
<p>â‘£ å…³é—­æµèµ„æº</p>
<p>è¯´æ˜ï¼šç¨‹åºä¸­å‡ºç°çš„å¼‚å¸¸éœ€è¦ä½¿ç”¨ <code>try-catch-finally</code> å¤„ç†ã€‚</p>
<p><strong>å­—èŠ‚æµè¯»å–</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.tedu.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æœ¬ç±»ç”¨äºç»ƒä¹ å­—èŠ‚è¾“å…¥æµ*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestIn</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//method();//å­—èŠ‚æµçš„è¯»å–</span></span><br><span class="line">        method2();<span class="comment">//é«˜æ•ˆå­—èŠ‚æµçš„è¯»å–</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æœ¬æ–¹æ³•ç”¨äºæµ‹è¯•é«˜æ•ˆå­—èŠ‚æµçš„è¯»å–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªåœ¨æœ¬æ–¹æ³•ä¸­éƒ½ç”Ÿæ•ˆçš„å±€éƒ¨å˜é‡in,æ³¨æ„æ‰‹åŠ¨åˆå§‹åŒ–ï¼Œå€¼ä¸ºnull</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//1.åˆ›å»ºé«˜æ•ˆå­—èŠ‚è¾“å…¥æµå¯¹è±¡</span></span><br><span class="line"><span class="comment">//            InputStream in = new BufferedInputStream(</span></span><br><span class="line"><span class="comment">//                    new FileInputStream(new File(&quot;E:\\ready\\1.txt&quot;)));</span></span><br><span class="line">              in = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span></span><br><span class="line">                      (<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;E:\\ready\\1.txt&quot;</span>));</span><br><span class="line">            <span class="comment">//2.ä½¿ç”¨æµè¿›è¡Œè¯»å–</span></span><br><span class="line">            <span class="type">int</span> b;</span><br><span class="line">            <span class="keyword">while</span> ((b= in.read())!= -<span class="number">1</span>)&#123;</span><br><span class="line">                System.out.println(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;<span class="comment">//å…³æµæ“ä½œå†™åœ¨finally&#123;&#125;ä¸­</span></span><br><span class="line">            <span class="comment">//3.æµç”¨å®Œä»¥åä¸€å®šè¦å…³é—­ï¼ï¼ï¼</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                in.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æœ¬æ–¹æ³•ç”¨äºæµ‹è¯•å­—èŠ‚æµçš„è¯»å–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªåœ¨æœ¬æ–¹æ³•éƒ½ç”Ÿæ•ˆçš„å±€éƒ¨å˜é‡æ³¨æ„æ‰‹åŠ¨åˆå§‹åŒ–</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//1.åˆ›å»ºå­—èŠ‚è¾“å…¥æµå¯¹è±¡ç”¨äºè¯»å–</span></span><br><span class="line">            <span class="comment">//InputStream in = new InputStream();//æŠ¥é”™åŸå› ï¼šæŠ½è±¡ç±»ä¸å¯å®ä¾‹åŒ–</span></span><br><span class="line">            <span class="comment">//InputStream in = new FileInputStream(new File(&quot;E:\\ready\\1.txt&quot;));</span></span><br><span class="line">            in = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;E:\\ready\\1.txt&quot;</span>);</span><br><span class="line">            <span class="comment">//2.å¼€å§‹è¯»å–</span></span><br><span class="line">            <span class="comment">/*read()æ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œå¦‚æœè¯»åˆ°äº†æ•°æ®çš„æœ«å°¾ï¼Œè¿”å›-1*/</span></span><br><span class="line"><span class="comment">//            System.out.println(in.read());</span></span><br><span class="line"><span class="comment">//            System.out.println(in.read());</span></span><br><span class="line"><span class="comment">//            System.out.println(in.read());</span></span><br><span class="line"><span class="comment">//            System.out.println(in.read());</span></span><br><span class="line">            <span class="comment">//éœ€æ±‚ï¼šéœ€è¦å¾ªç¯è¯»å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œç›´è‡³è¯»å®Œ</span></span><br><span class="line">            <span class="comment">//å®šä¹‰å˜é‡ï¼Œè®°å½•è¯»åˆ°çš„æ•°æ®</span></span><br><span class="line">            <span class="type">int</span> b;</span><br><span class="line">            <span class="keyword">while</span>((b=in.read())!= -<span class="number">1</span>)&#123;</span><br><span class="line">                System.out.println(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();<span class="comment">//æ‰“å°é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        <span class="comment">/*try-catchç»“æ„ä¸­çš„ç¬¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šfinally&#123;&#125;</span></span><br><span class="line"><span class="comment">        * è¿™éƒ¨åˆ†ä¸è®ºæ˜¯å¦æ•è·åˆ°å¼‚å¸¸ï¼Œæ˜¯ä¸€å®šä¼šè¢«æ‰§è¡Œåˆ°çš„ä»£ç ï¼Œå¸¸ç”¨äºå…³æµ*/</span></span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//3.é‡Šæ”¾èµ„æºï¼Œæµèµ„æºç”¨å®Œå¿…é¡»é‡Šæ”¾ï¼ï¼ï¼</span></span><br><span class="line">                in.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>å­—ç¬¦æµè¯»å–</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.tedu.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æœ¬ç±»ç”¨äºæµ‹è¯•å­—ç¬¦æµçš„è¯»å–*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestIn2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//method();//æµ‹è¯•æ™®é€šå­—ç¬¦è¾“å…¥æµ</span></span><br><span class="line">        method2();<span class="comment">//æµ‹è¯•é«˜æ•ˆå­—ç¬¦è¾“å…¥æµ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•é«˜æ•ˆå­—ç¬¦è¾“å…¥æµçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1.å®šä¹‰ä¸€ä¸ªåœ¨æœ¬æ–¹æ³•éƒ½ç”Ÿæ•ˆçš„å±€éƒ¨å˜é‡ï¼Œæ‰‹åŠ¨åˆå§‹åŒ–å€¼null</span></span><br><span class="line">        Reader in=<span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//1.åˆ›å»ºé«˜æ•ˆå­—ç¬¦è¯»å–æµå¯¹è±¡</span></span><br><span class="line">            <span class="comment">//in = new BufferedReader(new FileReader(new File(&quot;E:\\ready\\1.txt&quot;)));</span></span><br><span class="line">            in = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;E:\\ready\\1.txt&quot;</span>));</span><br><span class="line">            <span class="comment">//2.ä½¿ç”¨æµå¯¹è±¡</span></span><br><span class="line">            <span class="type">int</span> b;</span><br><span class="line">            <span class="keyword">while</span>((b=in.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">                System.out.println(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//3.å…³é—­æµå¯¹è±¡</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                in.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•æ™®é€šå­—ç¬¦è¾“å…¥æµçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1.1åˆ›å»ºä¸€ä¸ªåœ¨æœ¬æ–¹æ³•ä¸­éƒ½ç”Ÿæ•ˆçš„å±€éƒ¨å˜é‡ï¼Œæ³¨æ„åˆå§‹åŒ–å€¼null</span></span><br><span class="line">        <span class="type">Reader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//1.2åˆ›å»ºå­—ç¬¦è¾“å…¥æµå¯¹è±¡ï¼Œæ³¨æ„éœ€è¦æ•è·å¼‚å¸¸</span></span><br><span class="line">            <span class="comment">//Reader in = new Reader();//æŠ¥é”™åŸå› ï¼šæŠ½è±¡çˆ¶çº§ä¸å¯å®ä¾‹åŒ–</span></span><br><span class="line">            <span class="comment">//in = new FileReader(new File(&quot;E:\\ready\\1.txt&quot;));</span></span><br><span class="line">            in = <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;E:\\ready\\1.txt&quot;</span>);</span><br><span class="line">            <span class="comment">//2.ä½¿ç”¨æµå¯¹è±¡</span></span><br><span class="line">            <span class="comment">//System.out.println(in.read());</span></span><br><span class="line">            <span class="comment">//éœ€æ±‚ï¼šå¾ªç¯è¯»å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œåªè¦ä¸æ˜¯-1ï¼Œå°±è¯´æ˜è¿˜æœ‰æ•°æ®ï¼Œç»§ç»­è¯»å–</span></span><br><span class="line">            <span class="comment">//3.1å®šä¹‰å˜é‡ï¼Œè®°å½•è¯»å–åˆ°çš„æ•°æ®</span></span><br><span class="line">            <span class="type">int</span> b;</span><br><span class="line">            <span class="keyword">while</span>((b = in.read())!= -<span class="number">1</span>)&#123;</span><br><span class="line">                System.out.println(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;<span class="comment">//3.å…³æµ</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                in.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-2-è¾“å‡ºè¿‡ç¨‹ï¼š"><a href="#4-2-è¾“å‡ºè¿‡ç¨‹ï¼š" class="headerlink" title="4.2 è¾“å‡ºè¿‡ç¨‹ï¼š"></a>4.2 è¾“å‡ºè¿‡ç¨‹ï¼š</h4><p>â‘  åˆ›å»º File ç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜å†™å‡ºçš„æ•°æ®çš„ä½ç½®ã€‚ï¼ˆä¸è¦æ±‚æ­¤æ–‡ä»¶ä¸€å®šè¦å­˜åœ¨ï¼‰</p>
<p>â‘¡ åˆ›å»ºç›¸åº”çš„è¾“å‡ºæµï¼Œå°† File ç±»çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥æµçš„æ„é€ å™¨ä¸­</p>
<p>â‘¢ å…·ä½“çš„å†™å‡ºè¿‡ç¨‹ï¼š<code>write(char[]/byte[] buffer,0,len)</code></p>
<p>â‘£ å…³é—­æµèµ„æº</p>
<p>è¯´æ˜ï¼šç¨‹åºä¸­å‡ºç°çš„å¼‚å¸¸éœ€è¦ä½¿ç”¨ <code>try-catch-finally</code> å¤„ç†ã€‚</p>
<p><strong>å­—èŠ‚æµè¾“å‡º</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.tedu.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æœ¬ç±»ç”¨äºæµ‹è¯•å­—èŠ‚è¾“å‡ºæµ*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestOut</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        method();<span class="comment">//ç”¨äºæµ‹è¯•æ™®é€šå­—èŠ‚è¾“å‡ºæµ</span></span><br><span class="line">        <span class="comment">//method2();//ç”¨äºæµ‹è¯•é«˜æ•ˆå­—èŠ‚è¾“å‡ºæµ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•é«˜æ•ˆå­—èŠ‚è¾“å‡ºæµçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºä¸€ä¸ªåœ¨æœ¬æ–¹æ³•éƒ½ç”Ÿæ•ˆçš„å±€éƒ¨å˜é‡ï¼Œæ³¨æ„æ‰‹åŠ¨åˆå§‹åŒ–</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//2.åˆ›å»ºé«˜æ•ˆå­—èŠ‚è¾“å‡ºæµå¯¹è±¡</span></span><br><span class="line"><span class="comment">//          out = new BufferedOutputStream(new FileOutputStream(new File(&quot;E:\\ready\\2.txt&quot;)));</span></span><br><span class="line">            out = <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;E:\\ready\\2.txt&quot;</span>));</span><br><span class="line">            <span class="comment">//3.ä½¿ç”¨æµå¯¹è±¡--è¿›è¡Œå†™å‡ºæ“ä½œ</span></span><br><span class="line">            out.write(<span class="number">97</span>);</span><br><span class="line">            out.write(<span class="number">97</span>);</span><br><span class="line">            out.write(<span class="number">97</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;<span class="comment">//å…³æµæ“ä½œè¦æ”¾åœ¨finally&#123;&#125;ä¸­</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//4.å…³æµ</span></span><br><span class="line">                out.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•æ™®é€šå­—èŠ‚è¾“å‡ºæµçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºä¸€ä¸ªåœ¨æœ¬æ–¹æ³•ä¸­éƒ½ç”Ÿæ•ˆçš„å±€éƒ¨å˜é‡ï¼Œæ³¨æ„æ‰‹åŠ¨åˆå§‹åŒ–null</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//2.åˆ›å»ºtry-catch-finallyç»“æ„ï¼Œå› ä¸ºIOæ“ä½œå¯èƒ½ä¼šäº§ç”Ÿå¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//3.åˆ›å»ºæ™®é€šå­—èŠ‚è¾“å‡ºæµå¯¹è±¡</span></span><br><span class="line">            <span class="comment">//out = new FileOutputStream(new File(&quot;E:\\ready\\2.txt&quot;));</span></span><br><span class="line">            <span class="comment">//out = new FileOutputStream(&quot;E:\\ready\\2.txt&quot;);</span></span><br><span class="line">            out = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;E:\\ready\\2.txt&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">            <span class="comment">//4.ä½¿ç”¨æµå¯¹è±¡--è¿›è¡Œå†™å‡ºæ“ä½œ</span></span><br><span class="line">            out.write(<span class="number">99</span>);<span class="comment">//å¯¹åº”ASCIIç è¡¨ä¸­çš„a</span></span><br><span class="line">            out.write(<span class="number">99</span>);<span class="comment">//å¯¹åº”ASCIIç è¡¨ä¸­çš„b</span></span><br><span class="line">            out.write(<span class="number">99</span>);<span class="comment">//å¯¹åº”ASCIIç è¡¨ä¸­çš„c</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;<span class="comment">//å¦‚æœæƒ³è¦ä»£ç ä¸€å®šä¼šæ‰§è¡Œï¼Œéœ€è¦å†™åœ¨finallyä¸­</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//5.å…³æµæ“ä½œ</span></span><br><span class="line">                out.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å­—ç¬¦æµè¾“å‡º</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.tedu.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æœ¬ç±»ç”¨äºæµ‹è¯•å­—ç¬¦è¾“å‡ºæµ*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestOut2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//method();//ç”¨äºæµ‹è¯•æ™®é€šå­—ç¬¦è¾“å‡ºæµ</span></span><br><span class="line">        method2();<span class="comment">//ç”¨äºæµ‹è¯•é«˜æ•ˆå­—ç¬¦è¾“å‡ºæµ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•é«˜æ•ˆå­—ç¬¦è¾“å‡ºæµçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºä¸€ä¸ªåœ¨æœ¬æ–¹æ³•éƒ½ç”Ÿæ•ˆçš„å±€éƒ¨å˜é‡ï¼Œå€¼ä¸ºnull,æ³¨æ„æ‰‹åŠ¨åˆå§‹åŒ–ï¼ï¼ï¼</span></span><br><span class="line">        <span class="type">Writer</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//2.ç”±äºç¨‹åºå¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€ä»¥éœ€è¦å†™ä¸€ä¸ªtry-catch-finallyç»“æ„</span></span><br><span class="line">        <span class="keyword">try</span>&#123;<span class="comment">//å­˜æ”¾å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ä»£ç </span></span><br><span class="line">            <span class="comment">//3.åˆ›å»ºæ™®é€šå­—ç¬¦è¾“å‡ºæµå¯¹è±¡</span></span><br><span class="line">            <span class="comment">//out = new BufferedWriter(new FileWriter(new File(&quot;E:\\ready\\2.txt&quot;)));</span></span><br><span class="line">            <span class="comment">//out = new BufferedWriter(new FileWriter(&quot;E:\\ready\\2.txt&quot;));</span></span><br><span class="line">            out = <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;E:\\ready\\2.txt&quot;</span>,<span class="literal">true</span>));</span><br><span class="line">            <span class="comment">//4.ä½¿ç”¨æµå¯¹è±¡</span></span><br><span class="line">            out.write(<span class="number">100</span>);</span><br><span class="line">            out.write(<span class="number">100</span>);</span><br><span class="line">            out.write(<span class="number">100</span>);</span><br><span class="line">            out.write(<span class="number">100</span>);</span><br><span class="line">            out.write(<span class="number">100</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;<span class="comment">//åŒ¹é…å¹¶æ•è·å¼‚å¸¸</span></span><br><span class="line">            e.printStackTrace();<span class="comment">//å¦‚æœæ•è·åˆ°å¼‚å¸¸å°±æ‰“å°é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;<span class="comment">//ä¸€å®šä¼šè¢«æ‰§è¡Œåˆ°çš„ä»£ç å—ï¼Œå¸¸ç”¨äºå…³æµ</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                out.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•æ™®é€šå­—ç¬¦è¾“å‡ºæµçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºä¸€ä¸ªåœ¨æœ¬æ–¹æ³•éƒ½ç”Ÿæ•ˆçš„å±€éƒ¨å˜é‡ï¼Œå€¼ä¸ºnull,æ³¨æ„æ‰‹åŠ¨åˆå§‹åŒ–ï¼ï¼ï¼</span></span><br><span class="line">        <span class="type">Writer</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//2.ç”±äºç¨‹åºå¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€ä»¥éœ€è¦å†™ä¸€ä¸ªtry-catch-finallyç»“æ„</span></span><br><span class="line">        <span class="keyword">try</span>&#123;<span class="comment">//å­˜æ”¾å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ä»£ç </span></span><br><span class="line">            <span class="comment">//3.åˆ›å»ºæ™®é€šå­—ç¬¦è¾“å‡ºæµå¯¹è±¡</span></span><br><span class="line">            <span class="comment">//out = new FileWriter(new File(&quot;E:\\ready\\2.txt&quot;));</span></span><br><span class="line">            <span class="comment">//out = new FileWriter(&quot;E:\\ready\\2.txt&quot;);</span></span><br><span class="line">            out = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;E:\\ready\\2.txt&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">            <span class="comment">//4.ä½¿ç”¨æµå¯¹è±¡</span></span><br><span class="line">            out.write(<span class="number">98</span>);</span><br><span class="line">            out.write(<span class="number">98</span>);</span><br><span class="line">            out.write(<span class="number">98</span>);</span><br><span class="line">            out.write(<span class="number">98</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;<span class="comment">//åŒ¹é…å¹¶æ•è·å¼‚å¸¸</span></span><br><span class="line">            e.printStackTrace();<span class="comment">//å¦‚æœæ•è·åˆ°å¼‚å¸¸å°±æ‰“å°é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;<span class="comment">//ä¸€å®šä¼šè¢«æ‰§è¡Œåˆ°çš„ä»£ç å—ï¼Œå¸¸ç”¨äºå…³æµ</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                out.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="ä¸‰ã€èŠ‚ç‚¹æµï¼ˆæ–‡ä»¶æµï¼‰"><a href="#ä¸‰ã€èŠ‚ç‚¹æµï¼ˆæ–‡ä»¶æµï¼‰" class="headerlink" title="ä¸‰ã€èŠ‚ç‚¹æµï¼ˆæ–‡ä»¶æµï¼‰"></a>ä¸‰ã€èŠ‚ç‚¹æµï¼ˆæ–‡ä»¶æµï¼‰</h2><h3 id="1-æ–‡ä»¶å­—ç¬¦æµ-FileReader-å’Œ-FileWriter-çš„ä½¿ç”¨"><a href="#1-æ–‡ä»¶å­—ç¬¦æµ-FileReader-å’Œ-FileWriter-çš„ä½¿ç”¨" class="headerlink" title="1. æ–‡ä»¶å­—ç¬¦æµ FileReader å’Œ FileWriter çš„ä½¿ç”¨"></a>1. æ–‡ä»¶å­—ç¬¦æµ FileReader å’Œ FileWriter çš„ä½¿ç”¨</h3><h4 id="1-1æ–‡ä»¶çš„è¾“å…¥"><a href="#1-1æ–‡ä»¶çš„è¾“å…¥" class="headerlink" title="1.1æ–‡ä»¶çš„è¾“å…¥"></a>1.1æ–‡ä»¶çš„è¾“å…¥</h4><p>ä»æ–‡ä»¶ä¸­è¯»å–åˆ°å†…å­˜ï¼ˆç¨‹åºï¼‰ä¸­</p>
<p><strong>æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å»ºç«‹ä¸€ä¸ªæµå¯¹è±¡ï¼Œå°†å·²å­˜åœ¨çš„ä¸€ä¸ªæ–‡ä»¶åŠ è½½è¿›æµ <code>FileReader fr = new FileReader(new File(&quot;Test. txt&quot;));</code></li>
<li>åˆ›å»ºä¸€ä¸ªä¸´æ—¶å­˜æ”¾æ•°æ®çš„æ•°ç»„ <code>char[] ch = new char[1024];</code></li>
<li>è°ƒç”¨æµå¯¹è±¡çš„è¯»å–æ–¹æ³•å°†æµä¸­çš„æ•°æ®è¯»å…¥åˆ°æ•°ç»„ä¸­ã€‚ <code>fr.read(ch);</code></li>
<li>å…³é—­èµ„æºã€‚ <code>fr.close();</code></li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFileReader1</span><span class="params">()</span>  &#123;</span><br><span class="line">    <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.Fileç±»çš„å®ä¾‹åŒ–</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.FileReaderæµçš„å®ä¾‹åŒ–</span></span><br><span class="line">        fr = <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.è¯»å…¥çš„æ“ä½œ</span></span><br><span class="line">        <span class="comment">//read(char[] cbuf):è¿”å›æ¯æ¬¡è¯»å…¥cbufæ•°ç»„ä¸­çš„å­—ç¬¦çš„ä¸ªæ•°ã€‚å¦‚æœè¾¾åˆ°æ–‡ä»¶æœ«å°¾ï¼Œè¿”å›-1</span></span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(cbuf,<span class="number">0</span>,len);</span><br><span class="line">            System.out.print(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(fr != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//4.èµ„æºçš„å…³é—­</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fr.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ç‚¹ï¼š</strong></p>
<ol>
<li><code>read()</code> çš„ç†è§£ï¼šè¿”å›è¯»å…¥çš„ä¸€ä¸ªå­—ç¬¦ã€‚å¦‚æœè¾¾åˆ°æ–‡ä»¶æœ«å°¾ï¼Œè¿”å›-1</li>
<li>å¼‚å¸¸çš„å¤„ç†ï¼šä¸ºäº†ä¿è¯æµèµ„æºä¸€å®šå¯ä»¥æ‰§è¡Œå…³é—­æ“ä½œã€‚éœ€è¦ä½¿ç”¨ <code>try-catch-finally</code> å¤„ç†</li>
<li>è¯»å…¥çš„æ–‡ä»¶ä¸€å®šè¦å­˜åœ¨ï¼Œå¦åˆ™å°±ä¼šæŠ¥ <code>FileNotFoundException</code>ã€‚</li>
</ol>
<h4 id="1-2-æ–‡ä»¶çš„è¾“å‡º"><a href="#1-2-æ–‡ä»¶çš„è¾“å‡º" class="headerlink" title="1.2 æ–‡ä»¶çš„è¾“å‡º"></a>1.2 æ–‡ä»¶çš„è¾“å‡º</h4><p>ä»å†…å­˜ï¼ˆç¨‹åºï¼‰åˆ°ç¡¬ç›˜æ–‡ä»¶ä¸­</p>
<p><strong>æ­¥éª¤ï¼š</strong></p>
<ol>
<li>åˆ›å»ºæµå¯¹è±¡ï¼Œå»ºç«‹æ•°æ®å­˜æ”¾æ–‡ä»¶ <code>File Writer fw = new File Writer(new File(&quot;Test.txt&quot;))</code></li>
<li>è°ƒç”¨æµå¯¹è±¡çš„å†™å…¥æ–¹æ³•ï¼Œå°†æ•°æ®å†™å…¥æµ <code>fw.write(&quot;HelloWord&quot;)</code></li>
<li>å…³é—­æµèµ„æºï¼Œå¹¶å°†æµä¸­çš„æ•°æ®æ¸…ç©ºåˆ°æ–‡ä»¶ä¸­ã€‚ <code>fw.close();</code></li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFileWriter</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.æä¾›Fileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜å†™å‡ºåˆ°çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello1.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.æä¾›FileWriterçš„å¯¹è±¡ï¼Œç”¨äºæ•°æ®çš„å†™å‡º</span></span><br><span class="line">        fw = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(file,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å†™å‡ºçš„æ“ä½œ</span></span><br><span class="line">        fw.write(<span class="string">&quot;I have a dream!\n&quot;</span>);</span><br><span class="line">        fw.write(<span class="string">&quot;you need to have a dream!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.æµèµ„æºçš„å…³é—­</span></span><br><span class="line">        <span class="keyword">if</span>(fw != <span class="literal">null</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="1-3-å°ç»ƒä¹ "><a href="#1-3-å°ç»ƒä¹ " class="headerlink" title="1.3 å°ç»ƒä¹ "></a>1.3 å°ç»ƒä¹ </h4><p>å®ç°æ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFileReaderFileWriter</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºFileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¯»å…¥å’Œå†™å‡ºçš„æ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello2.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸èƒ½ä½¿ç”¨å­—ç¬¦æµæ¥å¤„ç†å›¾ç‰‡ç­‰å­—èŠ‚æ•°æ®</span></span><br><span class="line">        <span class="comment">//            File srcFile = new File(&quot;test.jpg&quot;);</span></span><br><span class="line">        <span class="comment">//            File destFile = new File(&quot;test1.jpg&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.åˆ›å»ºè¾“å…¥æµå’Œè¾“å‡ºæµçš„å¯¹è±¡</span></span><br><span class="line">        fr = <span class="keyword">new</span> <span class="title class_">FileReader</span>(srcFile);</span><br><span class="line">        fw = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(destFile);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.æ•°æ®çš„è¯»å…¥å’Œå†™å‡ºæ“ä½œ</span></span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="type">int</span> len;<span class="comment">//è®°å½•æ¯æ¬¡è¯»å…¥åˆ°cbufæ•°ç»„ä¸­çš„å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//æ¯æ¬¡å†™å‡ºlenä¸ªå­—ç¬¦</span></span><br><span class="line">            fw.write(cbuf,<span class="number">0</span>,len);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.å…³é—­æµèµ„æº</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fw != <span class="literal">null</span>)</span><br><span class="line">                fw.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fr != <span class="literal">null</span>)</span><br><span class="line">                fr.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="2-æ–‡ä»¶å­—èŠ‚æµ-FileInputSteam-å’Œ-FileOutputSteam-çš„ä½¿ç”¨"><a href="#2-æ–‡ä»¶å­—èŠ‚æµ-FileInputSteam-å’Œ-FileOutputSteam-çš„ä½¿ç”¨" class="headerlink" title="2. æ–‡ä»¶å­—èŠ‚æµ FileInputSteam å’Œ FileOutputSteam çš„ä½¿ç”¨"></a>2. æ–‡ä»¶å­—èŠ‚æµ FileInputSteam å’Œ FileOutputSteam çš„ä½¿ç”¨</h3><p>æ–‡ä»¶å­—èŠ‚æµæ“ä½œä¸å­—ç¬¦æµæ“ä½œç±»ä¼¼ï¼Œåªæ˜¯å®ä¾‹åŒ–å¯¹è±¡æ“ä½œå’Œæ•°æ®ç±»å‹ä¸åŒã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨å­—èŠ‚æµFileInputStreamå¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œå¯èƒ½å‡ºç°ä¹±ç ã€‚</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFileInputStream</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1. é€ æ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.é€ æµ</span></span><br><span class="line">        fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.è¯»æ•°æ®</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="type">int</span> len;<span class="comment">//è®°å½•æ¯æ¬¡è¯»å–çš„å­—èŠ‚çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(buffer,<span class="number">0</span>,len);</span><br><span class="line">            System.out.print(str);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(fis != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//4.å…³é—­èµ„æº</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p><strong>å°ç»ƒä¹ </strong></p>
<p>å®ç°å›¾ç‰‡æ–‡ä»¶å¤åˆ¶æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFileInputOutputStream</span><span class="params">()</span>  &#123;</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºFileå¯¹è±¡</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.jpg&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test2.jpg&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.åˆ›å»ºæ“æµ</span></span><br><span class="line">        fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(srcFile);</span><br><span class="line">        fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(destFile);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å¤åˆ¶çš„è¿‡ç¨‹</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.å…³é—­æµ</span></span><br><span class="line">        <span class="keyword">if</span>(fos != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fis != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="3-æ³¨æ„ç‚¹"><a href="#3-æ³¨æ„ç‚¹" class="headerlink" title="3. æ³¨æ„ç‚¹"></a>3. æ³¨æ„ç‚¹</h3><ul>
<li>å®šä¹‰è·¯å¾„æ—¶ï¼Œå¯ä»¥ç”¨ <code>/</code> æˆ– <code>\\</code>ã€‚</li>
<li>è¾“å‡ºæ“ä½œï¼Œå¯¹åº”çš„ File å¯ä»¥ä¸å­˜åœ¨çš„ã€‚å¹¶ä¸ä¼šæŠ¥å¼‚å¸¸ã€‚</li>
<li>File å¯¹åº”çš„ç¡¬ç›˜ä¸­çš„æ–‡ä»¶å¦‚æœä¸å­˜åœ¨ï¼Œåœ¨è¾“å‡ºçš„è¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ­¤æ–‡ä»¶ã€‚</li>
<li>File å¯¹åº”çš„ç¡¬ç›˜ä¸­çš„æ–‡ä»¶å¦‚æœå­˜åœ¨ï¼š<ul>
<li>å¦‚æœæµä½¿ç”¨çš„æ„é€ å™¨æ˜¯ï¼š<code>FileWriter(file,false)</code> / <code>FileWriter(file)</code>:å¯¹åŸæœ‰æ–‡ä»¶çš„è¦†ç›–ã€‚</li>
<li>å¦‚æœæµä½¿ç”¨çš„æ„é€ å™¨æ˜¯ï¼š<code>FileWriter(file,true)</code>:ä¸ä¼šå¯¹åŸæœ‰æ–‡ä»¶è¦†ç›–ï¼Œè€Œæ˜¯åœ¨åŸæœ‰æ–‡ä»¶åŸºç¡€ä¸Šè¿½åŠ å†…å®¹ã€‚</li>
</ul>
</li>
<li>è¯»å–æ–‡ä»¶æ—¶ï¼Œå¿…é¡»ä¿è¯æ–‡ä»¶å­˜åœ¨ï¼Œå¦åˆ™ä¼šæŠ¥å¼‚å¸¸ã€‚</li>
<li>å¯¹äºæ–‡æœ¬æ–‡ä»¶(<code>.txt,.java,.c,.cpp</code>)ï¼Œä½¿ç”¨å­—ç¬¦æµå¤„ç†</li>
<li>å¯¹äºéæ–‡æœ¬æ–‡ä»¶(<code>.jpg,.mp3,.mp4,.avi,.doc,.ppt,...</code>)ï¼Œä½¿ç”¨å­—èŠ‚æµå¤„ç†</li>
</ul>
<h2 id="å››ã€ç¼“å†²æµ"><a href="#å››ã€ç¼“å†²æµ" class="headerlink" title="å››ã€ç¼“å†²æµ"></a>å››ã€ç¼“å†²æµ</h2><h3 id="1-ç¼“å†²æµæ¶‰åŠåˆ°çš„ç±»ï¼š"><a href="#1-ç¼“å†²æµæ¶‰åŠåˆ°çš„ç±»ï¼š" class="headerlink" title="1. ç¼“å†²æµæ¶‰åŠåˆ°çš„ç±»ï¼š"></a>1. ç¼“å†²æµæ¶‰åŠåˆ°çš„ç±»ï¼š</h3><ul>
<li><code>BufferedInputStream</code></li>
<li><code>BufferedOutputStream</code></li>
<li><code>BufferedReader</code></li>
<li><code>BufferedWriter</code></li>
</ul>
<h3 id="2-å¼•å…¥ç›®çš„ï¼š"><a href="#2-å¼•å…¥ç›®çš„ï¼š" class="headerlink" title="2. å¼•å…¥ç›®çš„ï¼š"></a>2. å¼•å…¥ç›®çš„ï¼š</h3><ul>
<li><p>ä½œç”¨ï¼šæé«˜æµçš„è¯»å–ã€å†™å…¥çš„é€Ÿåº¦</p>
</li>
<li><p>æé«˜è¯»å†™é€Ÿåº¦çš„åŸå› ï¼šå†…éƒ¨æä¾›äº†ä¸€ä¸ªç¼“å†²åŒºã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯8kb</p>
<p><img src="/2022/05/31/javaIO/bb27f88081f949b191d05b946c40847c_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502110552555" loading="lazy"></p>
</li>
</ul>
<p><strong>å¤„ç†æµä¸èŠ‚ç‚¹æµçš„å¯¹æ¯”å›¾ç¤º</strong></p>
<p><img src="/2022/05/31/javaIO/26792fb3c89a4f1babba5cd2808e2c30_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502111050587" loading="lazy"></p>
<p><img src="/2022/05/31/javaIO/6615ac1716584f0991523d85e21863ac_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502111057666" loading="lazy"></p>
<h3 id="3-ä½¿ç”¨è¯´æ˜"><a href="#3-ä½¿ç”¨è¯´æ˜" class="headerlink" title="3. ä½¿ç”¨è¯´æ˜"></a>3. ä½¿ç”¨è¯´æ˜</h3><ul>
<li>å½“è¯»å–æ•°æ®æ—¶ï¼Œæ•°æ®æŒ‰å—è¯»å…¥ç¼“å†²åŒºï¼Œå…¶åçš„è¯»æ“ä½œåˆ™ç›´æ¥è®¿é—®ç¼“å†²åŒºã€‚</li>
<li>å½“ä½¿ç”¨ <code>BufferedInputStream</code> è¯»å–å­—èŠ‚æ–‡ä»¶æ—¶ï¼Œ<code>BufferedInputStream</code> ä¼šä¸€æ¬¡æ€§ä»æ–‡ä»¶ä¸­è¯»å–8192ä¸ª(8Kb)ï¼Œå­˜åœ¨ç¼“å†²åŒºä¸­ï¼Œç›´åˆ°ç¼“å†²åŒºè£…æ»¡äº†ï¼Œæ‰é‡æ–°ä»æ–‡ä»¶ä¸­è¯»å–ä¸‹ä¸€ä¸ª8192ä¸ªå­—èŠ‚æ•°ç»„ã€‚</li>
<li>å‘æµä¸­å†™å…¥å­—èŠ‚æ—¶ï¼Œä¸ä¼šç›´æ¥å†™åˆ°æ–‡ä»¶ï¼Œå…ˆå†™åˆ°ç¼“å†²åŒºä¸­ç›´åˆ°ç¼“å†²åŒºå†™æ»¡ï¼Œ<code>BufferedOutputStream</code> æ‰ä¼šæŠŠç¼“å†²åŒºä¸­çš„æ•°æ®ä¸€æ¬¡æ€§å†™åˆ°æ–‡ä»¶é‡Œã€‚ä½¿ç”¨æ–¹æ³• <code>flush()</code> å¯ä»¥å¼ºåˆ¶å°†ç¼“å†²åŒºçš„å†…å®¹å…¨éƒ¨å†™å…¥è¾“å‡ºæµã€‚</li>
<li>å…³é—­æµçš„é¡ºåºå’Œæ‰“å¼€æµçš„é¡ºåºç›¸åã€‚åªè¦å…³é—­æœ€å¤–å±‚æµå³å¯ï¼Œå…³é—­æœ€å¤–å±‚æµä¹Ÿä¼šç›¸åº”å…³é—­å†…å±‚èŠ‚ç‚¹æµã€‚</li>
<li><code>flush()</code> æ–¹æ³•çš„ä½¿ç”¨ï¼šæ‰‹åŠ¨å°† buffer ä¸­å†…å®¹å†™å…¥æ–‡ä»¶ã€‚</li>
<li>å¦‚æœæ˜¯å¸¦ç¼“å†²åŒºçš„æµå¯¹è±¡çš„ <code>close()</code> æ–¹æ³•ï¼Œä¸ä½†ä¼šå…³é—­æµï¼Œè¿˜ä¼šåœ¨å…³é—­æµä¹‹å‰åˆ·æ–°ç¼“å†²åŒºï¼Œå…³é—­åä¸èƒ½å†å†™å‡ºã€‚</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<h4 id="3-1ä½¿ç”¨-BufferInputStream-å’Œ-BufferOutputStream-å®ç°éæ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶"><a href="#3-1ä½¿ç”¨-BufferInputStream-å’Œ-BufferOutputStream-å®ç°éæ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶" class="headerlink" title="3.1ä½¿ç”¨ BufferInputStream å’Œ BufferOutputStream å®ç°éæ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶"></a>3.1ä½¿ç”¨ BufferInputStream å’Œ BufferOutputStream å®ç°éæ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testBufferedStream</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.é€ æ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.jpg&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test4.jpg&quot;</span>);</span><br><span class="line">        <span class="comment">//2.é€ æµ</span></span><br><span class="line">        <span class="comment">//2.1é€ èŠ‚ç‚¹æµ</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(srcFile);</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(destFile);</span><br><span class="line">        <span class="comment">//2.2é€ ç¼“å†²æµï¼Œå¯ä»¥åˆå¹¶ä¹¦å†™</span></span><br><span class="line">        bis = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">        bos = <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.æ–‡ä»¶è¯»å–ã€å†™å‡ºæ“ä½œ</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = bis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            bos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.å…³é—­æµ</span></span><br><span class="line">        <span class="keyword">if</span> (bos != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (bis != <span class="literal">null</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="3-2-ä½¿ç”¨-BufferedReader-å’Œ-BufferedWriter-å®ç°æ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶"><a href="#3-2-ä½¿ç”¨-BufferedReader-å’Œ-BufferedWriter-å®ç°æ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶" class="headerlink" title="3.2 ä½¿ç”¨ BufferedReader å’Œ BufferedWriter å®ç°æ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶"></a>3.2 ä½¿ç”¨ BufferedReader å’Œ BufferedWriter å®ç°æ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testBufferedReaderBufferedWriter</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºæ–‡ä»¶å’Œç›¸åº”çš„æµ</span></span><br><span class="line">        br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;dbcp.txt&quot;</span>)));</span><br><span class="line">        bw = <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;dbcp1.txt&quot;</span>)));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯»å†™æ“ä½œ</span></span><br><span class="line">        <span class="comment">//æ–¹å¼ä¸€ï¼šä½¿ç”¨char[]æ•°ç»„</span></span><br><span class="line">        <span class="comment">//            char[] cbuf = new char[1024];</span></span><br><span class="line">        <span class="comment">//            int len;</span></span><br><span class="line">        <span class="comment">//            while((len = br.read(cbuf)) != -1)&#123;</span></span><br><span class="line">        <span class="comment">//                bw.write(cbuf,0,len);</span></span><br><span class="line">        <span class="comment">//    //            bw.flush();</span></span><br><span class="line">        <span class="comment">//            &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹å¼äºŒï¼šä½¿ç”¨String</span></span><br><span class="line">        String data;</span><br><span class="line">        <span class="keyword">while</span>((data = br.readLine()) != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//æ–¹æ³•ä¸€ï¼š</span></span><br><span class="line">            <span class="comment">//                bw.write(data + &quot;\n&quot;);//dataä¸­ä¸åŒ…å«æ¢è¡Œç¬¦</span></span><br><span class="line">            <span class="comment">//æ–¹æ³•äºŒï¼š</span></span><br><span class="line">            bw.write(data);<span class="comment">//dataä¸­ä¸åŒ…å«æ¢è¡Œç¬¦</span></span><br><span class="line">            bw.newLine();<span class="comment">//æä¾›æ¢è¡Œçš„æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//å…³é—­èµ„æº</span></span><br><span class="line">        <span class="keyword">if</span>(bw != <span class="literal">null</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(br != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="4-å°ç»ƒä¹ "><a href="#4-å°ç»ƒä¹ " class="headerlink" title="4. å°ç»ƒä¹ "></a>4. å°ç»ƒä¹ </h3><h4 id="4-1æµ‹è¯•ç¼“å†²æµå’ŒèŠ‚ç‚¹æµæ–‡ä»¶å¤åˆ¶é€Ÿåº¦"><a href="#4-1æµ‹è¯•ç¼“å†²æµå’ŒèŠ‚ç‚¹æµæ–‡ä»¶å¤åˆ¶é€Ÿåº¦" class="headerlink" title="4.1æµ‹è¯•ç¼“å†²æµå’ŒèŠ‚ç‚¹æµæ–‡ä»¶å¤åˆ¶é€Ÿåº¦"></a>4.1æµ‹è¯•ç¼“å†²æµå’ŒèŠ‚ç‚¹æµæ–‡ä»¶å¤åˆ¶é€Ÿåº¦</h4><p>èŠ‚ç‚¹æµå®ç°å¤åˆ¶æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŒ‡å®šè·¯å¾„ä¸‹æ–‡ä»¶çš„å¤åˆ¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">copyFile</span><span class="params">(String srcPath,String destPath)</span>&#123;</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.é€ æ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(srcPath);</span><br><span class="line">        <span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(destPath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.é€ æµ</span></span><br><span class="line">        fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(srcFile);</span><br><span class="line">        fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(destFile);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å¤åˆ¶çš„è¿‡ç¨‹</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(fos != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//4.å…³é—­æµ</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fis != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ç¼“å†²æµå®ç°å¤åˆ¶æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ç°æ–‡ä»¶å¤åˆ¶çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">copyFileWithBuffered</span><span class="params">(String srcPath,String destPath)</span>&#123;</span><br><span class="line">    <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.é€ æ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(srcPath);</span><br><span class="line">        <span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(destPath);</span><br><span class="line">        <span class="comment">//2.é€ æµ</span></span><br><span class="line">        <span class="comment">//2.1 é€ èŠ‚ç‚¹æµ</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>((srcFile));</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(destFile);</span><br><span class="line">        <span class="comment">//2.2 é€ ç¼“å†²æµ</span></span><br><span class="line">        bis = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">        bos = <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å¤åˆ¶çš„ç»†èŠ‚ï¼šè¯»å–ã€å†™å…¥</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = bis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            bos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.èµ„æºå…³é—­</span></span><br><span class="line">        <span class="comment">//è¦æ±‚ï¼šå…ˆå…³é—­å¤–å±‚çš„æµï¼Œå†å…³é—­å†…å±‚çš„æµ</span></span><br><span class="line">        <span class="keyword">if</span>(bos != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(bis != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•äºŒè€…é€Ÿåº¦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testCopyFileWithBuffered</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">srcPath</span> <span class="operator">=</span> <span class="string">&quot;C:\\Users\\Administrator\\Desktop\\01-è§†é¢‘.avi&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">destPath</span> <span class="operator">=</span> <span class="string">&quot;C:\\Users\\Administrator\\Desktop\\03-è§†é¢‘.avi&quot;</span>;</span><br><span class="line"></span><br><span class="line">    copyFileWithBuffered(srcPath,destPath);</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;å¤åˆ¶æ“ä½œèŠ±è´¹çš„æ—¶é—´ä¸ºï¼š&quot;</span> + (end - start));<span class="comment">//618 - 176</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="4-2å®ç°å›¾ç‰‡åŠ å¯†æ“ä½œ"><a href="#4-2å®ç°å›¾ç‰‡åŠ å¯†æ“ä½œ" class="headerlink" title="4.2å®ç°å›¾ç‰‡åŠ å¯†æ“ä½œ"></a>4.2å®ç°å›¾ç‰‡åŠ å¯†æ“ä½œ</h4><p>åŠ å¯†æ“ä½œ</p>
<ul>
<li>å°†å›¾ç‰‡æ–‡ä»¶é€šè¿‡å­—èŠ‚æµè¯»å–åˆ°ç¨‹åºä¸­</li>
<li>å°†å›¾ç‰‡çš„å­—èŠ‚æµé€ä¸€è¿›è¡Œ <code>^</code> æ“ä½œ</li>
<li>å°†å¤„ç†åçš„å›¾ç‰‡å­—èŠ‚æµè¾“å‡º</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å›¾ç‰‡çš„åŠ å¯†</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;test.jpg&quot;</span>);</span><br><span class="line">        fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;testSecret.jpg&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                buffer[i] = (<span class="type">byte</span>) (buffer[i] ^ <span class="number">5</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (fos != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (fis != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>è§£å¯†æ“ä½œ</p>
<ul>
<li>å°†åŠ å¯†åå›¾ç‰‡æ–‡ä»¶é€šè¿‡å­—èŠ‚æµè¯»å–åˆ°ç¨‹åºä¸­</li>
<li>å°†å›¾ç‰‡çš„å­—èŠ‚æµé€ä¸€è¿›è¡Œ <code>^</code> æ“ä½œï¼ˆåŸç†ï¼š<code>A^B^B = A</code>ï¼‰</li>
<li>å°†å¤„ç†åçš„å›¾ç‰‡å­—èŠ‚æµè¾“å‡º</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å›¾ç‰‡çš„è§£å¯†</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;testSecret.jpg&quot;</span>);</span><br><span class="line">        fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;test4.jpg&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">          </span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                buffer[i] = (<span class="type">byte</span>) (buffer[i] ^ <span class="number">5</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (fos != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (fis != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="4-3-ç»Ÿè®¡æ–‡æœ¬å­—ç¬¦å‡ºç°æ¬¡æ•°"><a href="#4-3-ç»Ÿè®¡æ–‡æœ¬å­—ç¬¦å‡ºç°æ¬¡æ•°" class="headerlink" title="4.3 ç»Ÿè®¡æ–‡æœ¬å­—ç¬¦å‡ºç°æ¬¡æ•°"></a>4.3 ç»Ÿè®¡æ–‡æœ¬å­—ç¬¦å‡ºç°æ¬¡æ•°</h4><p>å®ç°æ€è·¯ï¼š</p>
<ol>
<li>éå†æ–‡æœ¬æ¯ä¸€ä¸ªå­—ç¬¦</li>
<li>å­—ç¬¦å‡ºç°çš„æ¬¡æ•°å­˜åœ¨Mapä¸­</li>
<li>æŠŠmapä¸­çš„æ•°æ®å†™å…¥æ–‡ä»¶</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWordCount</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºMapé›†åˆ</span></span><br><span class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Character, Integer&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.éå†æ¯ä¸€ä¸ªå­—ç¬¦,æ¯ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°æ”¾åˆ°mapä¸­</span></span><br><span class="line">        fr = <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;dbcp.txt&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((c = fr.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">//int è¿˜åŸ char</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> (<span class="type">char</span>) c;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­charæ˜¯å¦åœ¨mapä¸­ç¬¬ä¸€æ¬¡å‡ºç°</span></span><br><span class="line">            <span class="keyword">if</span> (map.get(ch) == <span class="literal">null</span>) &#123;</span><br><span class="line">                map.put(ch, <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(ch, map.get(ch) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.æŠŠmapä¸­æ•°æ®å­˜åœ¨æ–‡ä»¶count.txt</span></span><br><span class="line">        <span class="comment">//3.1 åˆ›å»ºWriter</span></span><br><span class="line">        bw = <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;wordcount.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.2 éå†map,å†å†™å…¥æ•°æ®</span></span><br><span class="line">        Set&lt;Map.Entry&lt;Character, Integer&gt;&gt; entrySet = map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Character, Integer&gt; entry : entrySet) &#123;</span><br><span class="line">            <span class="keyword">switch</span> (entry.getKey()) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27; &#x27;</span>:</span><br><span class="line">                    bw.write(<span class="string">&quot;ç©ºæ ¼=&quot;</span> + entry.getValue());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;\t&#x27;</span>:<span class="comment">//\tè¡¨ç¤ºtab é”®å­—ç¬¦</span></span><br><span class="line">                    bw.write(<span class="string">&quot;tabé”®=&quot;</span> + entry.getValue());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;\r&#x27;</span>:<span class="comment">//</span></span><br><span class="line">                    bw.write(<span class="string">&quot;å›è½¦=&quot;</span> + entry.getValue());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;\n&#x27;</span>:<span class="comment">//</span></span><br><span class="line">                    bw.write(<span class="string">&quot;æ¢è¡Œ=&quot;</span> + entry.getValue());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    bw.write(entry.getKey() + <span class="string">&quot;=&quot;</span> + entry.getValue());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            bw.newLine();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.å…³æµ</span></span><br><span class="line">        <span class="keyword">if</span> (fr != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fr.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (bw != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€è½¬æ¢æµ"><a href="#äº”ã€è½¬æ¢æµ" class="headerlink" title="äº”ã€è½¬æ¢æµ"></a>äº”ã€è½¬æ¢æµ</h2><h3 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h3><ul>
<li>è½¬æ¢æµæä¾›äº†åœ¨å­—èŠ‚æµå’Œå­—ç¬¦æµä¹‹é—´çš„è½¬æ¢</li>
<li>Java APIæä¾›äº†ä¸¤ä¸ªè½¬æ¢æµï¼š<ul>
<li><code>InputstreamReader</code>ï¼šå°† <code>Inputstream</code> è½¬æ¢ä¸º <code>Reader</code></li>
<li><code>OutputStreamWriter</code>ï¼šå°† <code>Writer</code> è½¬æ¢ä¸º <code>OutputStream</code></li>
</ul>
</li>
<li>å­—èŠ‚æµä¸­çš„æ•°æ®éƒ½æ˜¯å­—ç¬¦æ—¶ï¼Œè½¬æˆå­—ç¬¦æµæ“ä½œæ›´é«˜æ•ˆã€‚</li>
<li>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä½¿ç”¨è½¬æ¢æµæ¥å¤„ç†æ–‡ä»¶ä¹±ç é—®é¢˜ã€‚å®ç°ç¼–ç å’Œè§£ç çš„åŠŸèƒ½ã€‚</li>
</ul>
<h4 id="1-1-InputStreamReader"><a href="#1-1-InputStreamReader" class="headerlink" title="1.1 InputStreamReader"></a>1.1 InputStreamReader</h4><p>InputStreamReader å°†ä¸€ä¸ªå­—èŠ‚çš„è¾“å…¥æµè½¬æ¢ä¸ºå­—ç¬¦çš„è¾“å…¥æµ</p>
<p>è§£ç ï¼šå­—èŠ‚ã€å­—èŠ‚æ•°ç»„ â€”&gt;å­—ç¬¦æ•°ç»„ã€å­—ç¬¦ä¸²</p>
<p>æ„é€ å™¨ï¼š</p>
<ul>
<li><code>public InputStreamReader(InputStream in)</code></li>
<li><code>public InputStreamReader(Inputstream in,String charsetName)//å¯ä»¥æŒ‡å®šç¼–ç é›†</code></li>
</ul>
<h4 id="1-2-OutputStreamWriter"><a href="#1-2-OutputStreamWriter" class="headerlink" title="1.2 OutputStreamWriter"></a>1.2 OutputStreamWriter</h4><p>OutputStreamWriter å°†ä¸€ä¸ªå­—ç¬¦çš„è¾“å‡ºæµè½¬æ¢ä¸ºå­—èŠ‚çš„è¾“å‡ºæµ</p>
<p>ç¼–ç ï¼šå­—ç¬¦æ•°ç»„ã€å­—ç¬¦ä¸² â€”&gt; å­—èŠ‚ã€å­—èŠ‚æ•°ç»„</p>
<p>æ„é€ å™¨ï¼š</p>
<ul>
<li><code>public OutputStreamWriter(OutputStream out)</code></li>
<li><code>public OutputStreamWriter(Outputstream out,String charsetName)//å¯ä»¥æŒ‡å®šç¼–ç é›†</code></li>
</ul>
<p><strong>å›¾ç¤ºï¼š</strong></p>
<p><img src="/2022/05/31/javaIO/0f8a2d6c522c4bdba8fe89378e9d5d82_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502114233303" loading="lazy"></p>
<h3 id="2-ä»£ç ç¤ºä¾‹ï¼š"><a href="#2-ä»£ç ç¤ºä¾‹ï¼š" class="headerlink" title="2.ä»£ç ç¤ºä¾‹ï¼š"></a>2.ä»£ç ç¤ºä¾‹ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">ç»¼åˆä½¿ç”¨InputStreamReaderå’ŒOutputStreamWriter</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">InputStreamReader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">OutputStreamWriter</span> <span class="variable">osw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.é€ æ–‡ä»¶ã€é€ æµ</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;dbcp.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;dbcp_gbk.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file1);</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file2);</span><br><span class="line"></span><br><span class="line">        isr = <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(fis, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        osw = <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(fos, <span class="string">&quot;gbk&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.è¯»å†™è¿‡ç¨‹</span></span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = isr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            osw.write(cbuf,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//3.å…³æµ</span></span><br><span class="line">        <span class="keyword">if</span> (isr != <span class="literal">null</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                isr.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (osw != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                osw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼šæ–‡ä»¶ç¼–ç çš„æ–¹å¼ï¼ˆæ¯”å¦‚ï¼šGBKï¼‰ï¼Œå†³å®šäº†è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ï¼ˆä¹Ÿåªèƒ½æ˜¯GBKï¼‰ã€‚</p>
</blockquote>
<h3 id="3-ç¼–ç é›†"><a href="#3-ç¼–ç é›†" class="headerlink" title="3. ç¼–ç é›†"></a>3. ç¼–ç é›†</h3><h4 id="3-1-å¸¸è§çš„ç¼–ç è¡¨"><a href="#3-1-å¸¸è§çš„ç¼–ç è¡¨" class="headerlink" title="3.1 å¸¸è§çš„ç¼–ç è¡¨"></a>3.1 å¸¸è§çš„ç¼–ç è¡¨</h4><ul>
<li>ASCIIï¼šç¾å›½æ ‡å‡†ä¿¡æ¯äº¤æ¢ç ã€‚ç”¨ä¸€ä¸ªå­—èŠ‚çš„7ä½å¯ä»¥è¡¨ç¤ºã€‚</li>
<li>ISO8859-1ï¼šæ‹‰ä¸ç è¡¨ã€‚æ¬§æ´²ç è¡¨ç”¨ä¸€ä¸ªå­—èŠ‚çš„8ä½è¡¨ç¤ºã€‚</li>
<li>GB2312ï¼šä¸­å›½çš„ä¸­æ–‡ç¼–ç è¡¨ã€‚æœ€å¤šä¸¤ä¸ªå­—èŠ‚ç¼–ç æ‰€æœ‰å­—ç¬¦</li>
<li>GBKï¼šä¸­å›½çš„ä¸­æ–‡ç¼–ç è¡¨å‡çº§ï¼Œèåˆäº†æ›´å¤šçš„ä¸­æ–‡æ–‡å­—ç¬¦å·ã€‚æœ€å¤šä¸¤ä¸ªå­—èŠ‚ç¼–ç </li>
<li>Unicodeï¼šå›½é™…æ ‡å‡†ç ï¼Œèåˆäº†ç›®å‰äººç±»ä½¿ç”¨çš„æ‰€å­—ç¬¦ã€‚ä¸ºæ¯ä¸ªå­—ç¬¦åˆ†é…å”¯ä¸€çš„å­—ç¬¦ç ã€‚æ‰€æœ‰çš„æ–‡å­—éƒ½ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºã€‚</li>
<li>UTF-8ï¼šå˜é•¿çš„ç¼–ç æ–¹å¼ï¼Œå¯ç”¨1-4ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚</li>
</ul>
<p><img src="/2022/05/31/javaIO/6c103716f7cb43ddbd40104eeebd17f3_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502120238023" loading="lazy"></p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>é¢å‘ä¼ è¾“çš„ä¼—å¤šUTF(UCS Transfer Format)æ ‡å‡†å‡ºç°äº†ï¼Œé¡¾åæ€ä¹‰ï¼ŒUTF-8å°±æ˜¯æ¯æ¬¡8ä¸ªä½ä¼ è¾“æ•°æ®ï¼Œè€ŒUTF-16å°±æ˜¯æ¯æ¬¡16ä¸ªä½ã€‚è¿™æ˜¯ä¸ºä¼ è¾“è€Œè®¾è®¡çš„ç¼–ç ï¼Œå¹¶ä½¿ç¼–ç æ— å›½ç•Œï¼Œè¿™æ ·å°±å¯ä»¥æ˜¾ç¤ºå…¨ä¸–ç•Œä¸Šæ‰€æœ‰æ–‡åŒ–çš„å­—ç¬¦äº†ã€‚</li>
<li>Unicodeåªæ˜¯å®šä¹‰äº†ä¸€ä¸ªåºå¤§çš„ã€å…¨çƒé€šç”¨çš„å­—ç¬¦é›†ï¼Œå¹¶ä¸ºæ¯ä¸ªå­—ç¬¦è§„å®šäº†å”¯ç¡®å®šçš„ç¼–å·ï¼Œå…·ä½“å­˜å‚¨æˆä»€ä¹ˆæ ·çš„å­—èŠ‚æµï¼Œå–å†³äºå­—ç¬¦ç¼–ç æ–¹æ¡ˆã€‚æ¨èçš„Unicodeç¼–ç æ˜¯UTF-8å’ŒUTF-16ã€‚</li>
</ul>
<p><strong>UTF-8å˜é•¿ç¼–ç è¡¨ç¤º</strong></p>
<p><img src="/2022/05/31/javaIO/c6106119e0144570b04527222486ffbd_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502120042318" loading="lazy"></p>
<h4 id="3-2-ç¼–ç åº”ç”¨"><a href="#3-2-ç¼–ç åº”ç”¨" class="headerlink" title="3.2 ç¼–ç åº”ç”¨"></a>3.2 ç¼–ç åº”ç”¨</h4><ul>
<li>ç¼–ç ï¼šå­—ç¬¦ä¸²â€“&gt;å­—èŠ‚æ•°ç»„</li>
<li>è§£ç ï¼šå­—èŠ‚æ•°ç»„â€“&gt;å­—ç¬¦ä¸²</li>
<li>è½¬æ¢æµçš„ç¼–ç åº”ç”¨<ul>
<li>å¯ä»¥å°†å­—ç¬¦æŒ‰æŒ‡å®šç¼–ç æ ¼å¼å­˜å‚¨</li>
<li>å¯ä»¥å¯¹æ–‡æœ¬æ•°æ®æŒ‰æŒ‡å®šç¼–ç æ ¼å¼æ¥è§£è¯»</li>
<li>æŒ‡å®šç¼–ç è¡¨çš„åŠ¨ä½œç”±æ„é€ å™¨å®Œæˆ</li>
</ul>
</li>
</ul>
<p><strong>ä½¿ç”¨è¦æ±‚ï¼š</strong></p>
<p>å®¢æˆ·ç«¯/æµè§ˆå™¨ç«¯ &lt;â€”-&gt; åå°(java,GO,Python,Node.js,php) &lt;â€”-&gt; æ•°æ®åº“</p>
<p>è¦æ±‚å‰å‰ååä½¿ç”¨çš„å­—ç¬¦é›†éƒ½è¦ç»Ÿä¸€ï¼šUTF-8.</p>
<h2 id="å…­ã€æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ"><a href="#å…­ã€æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ" class="headerlink" title="å…­ã€æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ"></a>å…­ã€æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ</h2><h3 id="1-ç®€ä»‹-1"><a href="#1-ç®€ä»‹-1" class="headerlink" title="1.ç®€ä»‹"></a>1.ç®€ä»‹</h3><p><code>System.in</code>:æ ‡å‡†çš„è¾“å…¥æµï¼Œé»˜è®¤ä»é”®ç›˜è¾“å…¥</p>
<p><code>System.out</code>:æ ‡å‡†çš„è¾“å‡ºæµï¼Œé»˜è®¤ä»æ§åˆ¶å°è¾“å‡º</p>
<h3 id="2-ä¸»è¦æ–¹æ³•"><a href="#2-ä¸»è¦æ–¹æ³•" class="headerlink" title="2. ä¸»è¦æ–¹æ³•"></a>2. ä¸»è¦æ–¹æ³•</h3><p><code>System</code> ç±»çš„ <code>setIn(InputStream is)</code> æ–¹å¼é‡æ–°æŒ‡å®šè¾“å…¥çš„æµ</p>
<p><code>System</code> ç±»çš„ <code>setOut(PrintStream ps)</code> æ–¹å¼é‡æ–°æŒ‡å®šè¾“å‡ºçš„æµã€‚</p>
<h3 id="3-ä½¿ç”¨ç¤ºä¾‹"><a href="#3-ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="3. ä½¿ç”¨ç¤ºä¾‹"></a>3. ä½¿ç”¨ç¤ºä¾‹</h3><p>ä»é”®ç›˜è¾“å…¥å­—ç¬¦ä¸²ï¼Œè¦æ±‚å°†è¯»å–åˆ°çš„æ•´è¡Œå­—ç¬¦ä¸²è½¬æˆå¤§å†™è¾“å‡ºã€‚ç„¶åç»§ç»­è¿›è¡Œè¾“å…¥æ“ä½œï¼Œ</p>
<p>ç›´è‡³å½“è¾“å…¥ <code>e</code> æˆ–è€… <code>exit</code> æ—¶ï¼Œé€€å‡ºç¨‹åºã€‚</p>
<p><strong>è®¾è®¡æ€è·¯</strong></p>
<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ <code>Scanner</code> å®ç°ï¼Œè°ƒç”¨ <code>next()</code> è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</p>
<p>æ–¹æ³•äºŒï¼šä½¿ç”¨ <code>System.in</code> å®ç°ã€‚<code>System.in</code> â€”&gt; è½¬æ¢æµ â€”&gt;<code> BufferedReader</code>çš„<code>readLine()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">InputStreamReader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in);</span><br><span class="line">        br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(isr);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·è¾“å…¥å­—ç¬¦ä¸²ï¼š&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> br.readLine();</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;e&quot;</span>.equalsIgnoreCase(data) || <span class="string">&quot;exit&quot;</span>.equalsIgnoreCase(data)) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;ç¨‹åºç»“æŸ&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">upperCase</span> <span class="operator">=</span> data.toUpperCase();</span><br><span class="line">            System.out.println(upperCase);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (br != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="4-å°ç»ƒä¹ -1"><a href="#4-å°ç»ƒä¹ -1" class="headerlink" title="4. å°ç»ƒä¹ "></a>4. å°ç»ƒä¹ </h3><p>è®¾è®¡å®ç° Scanner ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInput</span> &#123;</span><br><span class="line">    <span class="comment">// Read a string from the keyboard</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">readString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Declare and initialize the string</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Get the string from the keyboard</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            string = br.readLine();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">            System.out.println(ex);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Return the string obtained from the keyboard</span></span><br><span class="line">        <span class="keyword">return</span> string;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read an int value from the keyboard</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">readInt</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(readString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read a double value from the keyboard</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">readDouble</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Double.parseDouble(readString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read a byte value from the keyboard</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">readByte</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Byte.parseByte(readString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read a short value from the keyboard</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">readShort</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Short.parseShort(readString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read a long value from the keyboard</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">readLong</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Long.parseLong(readString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read a float value from the keyboard</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">readFloat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Float.parseFloat(readString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒã€æ‰“å°æµ"><a href="#ä¸ƒã€æ‰“å°æµ" class="headerlink" title="ä¸ƒã€æ‰“å°æµ"></a>ä¸ƒã€æ‰“å°æµ</h2><p><code>PrintStream</code> å’Œ <code>PrintWriter</code> <strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æä¾›äº†ä¸€ç³»åˆ—é‡è½½çš„ <code>print()</code> å’Œ <code>println()</code> æ–¹æ³•ï¼Œç”¨äºå¤šç§æ•°æ®ç±»å‹çš„è¾“å‡º</li>
<li><code>System.out</code> è¿”å›çš„æ˜¯ <code>PrintStream</code> çš„å®ä¾‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\IO\\text.txt&quot;</span>));</span><br><span class="line">        <span class="comment">// åˆ›å»ºæ‰“å°è¾“å‡ºæµ,è®¾ç½®ä¸ºè‡ªåŠ¨åˆ·æ–°æ¨¡å¼(å†™å…¥æ¢è¡Œç¬¦æˆ–å­—èŠ‚ &#x27;\n&#x27; æ—¶éƒ½ä¼šåˆ·æ–°è¾“å‡ºç¼“å†²åŒº)</span></span><br><span class="line">        ps = <span class="keyword">new</span> <span class="title class_">PrintStream</span>(fos, <span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">if</span> (ps != <span class="literal">null</span>) &#123;<span class="comment">// æŠŠæ ‡å‡†è¾“å‡ºæµ(æ§åˆ¶å°è¾“å‡º)æ”¹æˆæ–‡ä»¶</span></span><br><span class="line">            System.setOut(ps);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= <span class="number">255</span>; i++) &#123; <span class="comment">// è¾“å‡ºASCIIå­—ç¬¦</span></span><br><span class="line">            System.out.print((<span class="type">char</span>) i);</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">50</span> == <span class="number">0</span>) &#123; <span class="comment">// æ¯50ä¸ªæ•°æ®ä¸€è¡Œ</span></span><br><span class="line">                System.out.println(); <span class="comment">// æ¢è¡Œ</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (ps != <span class="literal">null</span>) &#123;</span><br><span class="line">            ps.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="å…«ã€æ•°æ®æµ"><a href="#å…«ã€æ•°æ®æµ" class="headerlink" title="å…«ã€æ•°æ®æµ"></a>å…«ã€æ•°æ®æµ</h2><p><code>DataInputStream</code> å’Œ <code>DataOutputStream</code> <strong>ä½œç”¨ï¼š</strong> ç”¨äºè¯»å–æˆ–å†™å‡ºåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡æˆ–å­—ç¬¦ä¸²</p>
<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>
<p>å°†å†…å­˜ä¸­çš„å­—ç¬¦ä¸²ã€åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡å†™å‡ºåˆ°æ–‡ä»¶ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//1.é€ å¯¹è±¡ã€é€ æµ</span></span><br><span class="line">    <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        dos = <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;data.txt&quot;</span>));</span><br><span class="line">        <span class="comment">//æ•°æ®è¾“å‡º</span></span><br><span class="line">        dos.writeUTF(<span class="string">&quot;Bruce&quot;</span>);</span><br><span class="line">        dos.flush();<span class="comment">//åˆ·æ–°æ“ä½œï¼Œå°†å†…å­˜çš„æ•°æ®å†™å…¥åˆ°æ–‡ä»¶</span></span><br><span class="line">        dos.writeInt(<span class="number">23</span>);</span><br><span class="line">        dos.flush();</span><br><span class="line">        dos.writeBoolean(<span class="literal">true</span>);</span><br><span class="line">        dos.flush();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//3.å…³é—­æµ</span></span><br><span class="line">        <span class="keyword">if</span> (dos != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                dos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å°†æ–‡ä»¶ä¸­å­˜å‚¨çš„åŸºæœ¬æ•°æ®ç±»å‹å˜é‡å’Œå­—ç¬¦ä¸²è¯»å–åˆ°å†…å­˜ä¸­ï¼Œä¿å­˜åœ¨å˜é‡ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ³¨æ„ç‚¹ï¼šè¯»å–ä¸åŒç±»å‹çš„æ•°æ®çš„é¡ºåºè¦ä¸å½“åˆå†™å…¥æ–‡ä»¶æ—¶ï¼Œä¿å­˜çš„æ•°æ®çš„é¡ºåºä¸€è‡´ï¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.é€ å¯¹è±¡ã€é€ æµ</span></span><br><span class="line">        dis = <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;data.txt&quot;</span>));</span><br><span class="line">        <span class="comment">//2.ä»æ–‡ä»¶è¯»å…¥æ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> dis.readInt();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isMale</span> <span class="operator">=</span> dis.readBoolean();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;name:&quot;</span>+name);</span><br><span class="line">        System.out.println(<span class="string">&quot;age:&quot;</span>+age);</span><br><span class="line">        System.out.println(<span class="string">&quot;isMale:&quot;</span>+isMale);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//3.å…³é—­æµ</span></span><br><span class="line">        <span class="keyword">if</span> (dis != <span class="literal">null</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                dis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="ä¹ã€å¯¹è±¡æµ"><a href="#ä¹ã€å¯¹è±¡æµ" class="headerlink" title="ä¹ã€å¯¹è±¡æµ"></a>ä¹ã€å¯¹è±¡æµ</h2><h3 id="1-å¯¹è±¡æµï¼š"><a href="#1-å¯¹è±¡æµï¼š" class="headerlink" title="1.å¯¹è±¡æµï¼š"></a>1.å¯¹è±¡æµï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ObjectInputStream` å’Œ `ObjectOutputStream</span><br></pre></td></tr></table></figure>

<h3 id="2-ä½œç”¨ï¼š"><a href="#2-ä½œç”¨ï¼š" class="headerlink" title="2.ä½œç”¨ï¼š"></a>2.ä½œç”¨ï¼š</h3><ul>
<li><code>ObjectOutputStream</code>:å†…å­˜ä¸­çš„å¯¹è±¡â€”&gt;å­˜å‚¨ä¸­çš„æ–‡ä»¶ã€é€šè¿‡ç½‘ç»œä¼ è¾“å‡ºå»ï¼šåºåˆ—åŒ–è¿‡ç¨‹</li>
<li><code>ObjectInputStream</code>:å­˜å‚¨ä¸­çš„æ–‡ä»¶ã€é€šè¿‡ç½‘ç»œæ¥æ”¶è¿‡æ¥ â€”&gt;å†…å­˜ä¸­çš„å¯¹è±¡ï¼šååºåˆ—åŒ–è¿‡ç¨‹</li>
</ul>
<h3 id="3-å¯¹è±¡çš„åºåˆ—åŒ–"><a href="#3-å¯¹è±¡çš„åºåˆ—åŒ–" class="headerlink" title="3. å¯¹è±¡çš„åºåˆ—åŒ–"></a>3. å¯¹è±¡çš„åºåˆ—åŒ–</h3><ul>
<li>å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶å…è®¸æŠŠå†…å­˜ä¸­çš„Javaå¯¹è±¡è½¬æ¢æˆå¹³å°æ— å…³çš„äºŒè¿›åˆ¶æµï¼Œä»è€Œå…è®¸æŠŠè¿™ç§äºŒè¿›åˆ¶æµæŒä¹…åœ°ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œæˆ–é€šè¿‡ç½‘ç»œå°†è¿™ç§äºŒè¿›åˆ¶æµä¼ è¾“åˆ°å¦ä¸€ä¸ªç½‘ç»œèŠ‚ç‚¹ã€‚//å½“å…¶å®ƒç¨‹åºè·å–äº†è¿™ç§äºŒè¿›åˆ¶æµï¼Œå°±å¯ä»¥æ¢å¤æˆåŸæ¥çš„Javaå¯¹è±¡ã€‚</li>
<li>åºåˆ—åŒ–çš„å¥½å¤„åœ¨äºå¯å°†ä»»ä½•å®ç°äº†Serializableæ¥å£çš„å¯¹è±¡è½¬åŒ–ä¸ºå­—èŠ‚æ•°æ®ï¼Œä½¿å…¶åœ¨ä¿å­˜å’Œä¼ è¾“æ—¶å¯è¢«è¿˜åŸã€‚</li>
<li>åºåˆ—åŒ–æ˜¯RMI(Remote Method Invoke-è¿œç¨‹æ–¹æ³•è°ƒç”¨)è¿‡ç¨‹çš„å‚æ•°å’Œè¿”å›å€¼éƒ½å¿…é¡»å®ç°çš„æœºåˆ¶ï¼ŒRMIæ˜¯JavaEEçš„åŸºç¡€ã€‚å› æ­¤åºåˆ—åŒ–æœºåˆ¶æ˜¯JavaEEå¹³å°çš„åŸºç¡€ã€‚</li>
<li>å¦‚æœéœ€è¦è®©æŸä¸ªå¯¹è±¡æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œåˆ™å¿…é¡»è®©å¯¹è±¡æ‰€å±çš„ç±»åŠå…¶å±æ€§æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œä¸ºäº†è®©æŸä¸ªç±»æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œè¯¥ç±»å¿…é¡»å®ç°å¦‚ä¸‹ä¸¤ä¸ªæ¥å£ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œä¼šæŠ›å‡º <code>NotserializableEXception</code> å¼‚å¸¸<ul>
<li>Serializable</li>
<li>Externalizable</li>
</ul>
</li>
<li>å‡¡æ˜¯å®ç°Serializableæ¥å£çš„ç±»éƒ½æœ‰ä¸€ä¸ªè¡¨ç¤ºåºåˆ—åŒ–ç‰ˆæœ¬æ ‡è¯†ç¬¦çš„é™æ€å˜é‡ï¼š<ul>
<li><code>private static final long serialVersionUID;</code></li>
<li><code>serialVersionUID</code> ç”¨æ¥è¡¨æ˜ç±»çš„ä¸åŒç‰ˆæœ¬é—´çš„å…¼å®¹æ€§ã€‚ç®€è¨€ä¹‹ï¼Œå…¶ç›®çš„æ˜¯ä»¥åºåˆ—åŒ–å¯¹è±¡è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œæœ‰å…³å„ç‰ˆæœ¬ååºåˆ—åŒ–æ—¶æ˜¯å¦å…¼å®¹</li>
<li>å¦‚æœç±»æ²¡æœ‰æ˜¾ç¤ºå®šä¹‰è¿™ä¸ªé™æ€å¸¸é‡ï¼Œå®ƒçš„å€¼æ˜¯Javaè¿è¡Œæ—¶ç¯å¢ƒæ ¹æ®ç±»çš„å†…éƒ¨ç»†èŠ‚è‡ªåŠ¨ç”Ÿæˆçš„ã€‚è‹¥ç±»çš„å®ä¾‹å˜é‡åšäº†ä¿®æ”¹ï¼ŒserialVersionUIDå¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚æ•…å»ºè®®æ˜¾å¼å£°æ˜ã€‚</li>
</ul>
</li>
<li>ç®€å•æ¥è¯´ï¼ŒJava çš„åºåˆ—åŒ–æœºåˆ¶æ˜¯é€šè¿‡åœ¨è¿è¡Œæ—¶åˆ¤æ–­ç±»çš„ <code>serialversionUID</code> æ¥éªŒè¯ç‰ˆæœ¬ä¸€è‡´æ€§çš„ã€‚åœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼ŒJVM ä¼šæŠŠä¼ æ¥çš„å­—èŠ‚æµä¸­çš„ <code>serialversionUID</code> ä¸æœ¬åœ°ç›¸åº”å®ä½“ç±»çš„  <code>serialversionUID</code> è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒå°±è®¤ä¸ºæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥è¿›è¡Œååºåˆ—åŒ–ï¼Œå¦åˆ™å°±ä¼šå‡ºç°åºåˆ—åŒ–ç‰ˆæœ¬ä¸ä¸€è‡´çš„å¼‚å¸¸ã€‚(<code>InvalidCastException</code>)</li>
</ul>
<h3 id="4-å®ç°åºåˆ—åŒ–çš„å¯¹è±¡æ‰€å±çš„ç±»éœ€è¦æ»¡è¶³ï¼š"><a href="#4-å®ç°åºåˆ—åŒ–çš„å¯¹è±¡æ‰€å±çš„ç±»éœ€è¦æ»¡è¶³ï¼š" class="headerlink" title="4.å®ç°åºåˆ—åŒ–çš„å¯¹è±¡æ‰€å±çš„ç±»éœ€è¦æ»¡è¶³ï¼š"></a>4.å®ç°åºåˆ—åŒ–çš„å¯¹è±¡æ‰€å±çš„ç±»éœ€è¦æ»¡è¶³ï¼š</h3><ol>
<li>éœ€è¦å®ç°æ¥å£ï¼š<code>Serializable</code>ï¼ˆæ ‡è¯†æ¥å£ï¼‰</li>
<li>å½“å‰ç±»æä¾›ä¸€ä¸ªå…¨å±€å¸¸é‡ï¼š<code>serialVersionUID</code>ï¼ˆåºåˆ—ç‰ˆæœ¬å·ï¼‰</li>
<li>é™¤äº†å½“å‰ <code>Person</code> ç±»éœ€è¦å®ç° <code>Serializable</code> æ¥å£ä¹‹å¤–ï¼Œè¿˜å¿…é¡»ä¿è¯å…¶å†…éƒ¨æ‰€å±æ€§ä¹Ÿå¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„ã€‚ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹å¯åºåˆ—åŒ–ï¼‰</li>
</ol>
<p>è¡¥å……ï¼š<code>ObjectOutputStream</code> å’Œ <code>ObjectInputStream</code> ä¸èƒ½åºåˆ—åŒ– <code>static</code> å’Œ <code>transient</code> ä¿®é¥°çš„æˆå‘˜å˜é‡</p>
<h3 id="5-å¯¹è±¡æµçš„ä½¿ç”¨"><a href="#5-å¯¹è±¡æµçš„ä½¿ç”¨" class="headerlink" title="5. å¯¹è±¡æµçš„ä½¿ç”¨"></a>5. å¯¹è±¡æµçš„ä½¿ç”¨</h3><h4 id="5-1åºåˆ—åŒ–ä»£ç å®ç°"><a href="#5-1åºåˆ—åŒ–ä»£ç å®ç°" class="headerlink" title="5.1åºåˆ—åŒ–ä»£ç å®ç°"></a>5.1åºåˆ—åŒ–ä»£ç å®ç°</h4><p>åºåˆ—åŒ–ï¼šå°†å¯¹è±¡å†™å…¥ç£ç›˜æˆ–è¿›è¡Œç½‘ç»œä¼ è¾“</p>
<p>è¦æ±‚è¢«åºåˆ—åŒ–å¯¹è±¡å¿…é¡»å®ç°åºåˆ—åŒ–</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testObjectOutputStream</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºæµ</span></span><br><span class="line">        oos = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;object.dat&quot;</span>));</span><br><span class="line">        <span class="comment">//2.æ“ä½œæµ</span></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;æˆ‘çˆ±åŒ—äº¬å¤©å®‰é—¨&quot;</span>));</span><br><span class="line">        oos.flush();<span class="comment">//åˆ·æ–°æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;ç‹é“­&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        oos.flush();</span><br><span class="line"></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;å¼ å­¦è‰¯&quot;</span>,<span class="number">23</span>,<span class="number">1001</span>,<span class="keyword">new</span> <span class="title class_">Account</span>(<span class="number">5000</span>)));</span><br><span class="line">        oos.flush();</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(oos != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//3.å…³é—­æµ</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                oos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="5-2-ååºåˆ—åŒ–ä»£ç å®ç°"><a href="#5-2-ååºåˆ—åŒ–ä»£ç å®ç°" class="headerlink" title="5.2 ååºåˆ—åŒ–ä»£ç å®ç°"></a>5.2 ååºåˆ—åŒ–ä»£ç å®ç°</h4><p>ååºåˆ—åŒ–ï¼šå°†ç£ç›˜çš„å¯¹è±¡æ•°æ®æºè¯»å‡º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testObjectInputStream</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ois = <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;object.dat&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> ois.readObject();</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> (String) obj;</span><br><span class="line"></span><br><span class="line">        <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> (Person) ois.readObject();</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> (Person) ois.readObject();</span><br><span class="line"></span><br><span class="line">        System.out.println(str);</span><br><span class="line">        System.out.println(p);</span><br><span class="line">        System.out.println(p1);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(ois != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ois.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="åã€ä»»æ„å­˜å–æ–‡ä»¶æµ"><a href="#åã€ä»»æ„å­˜å–æ–‡ä»¶æµ" class="headerlink" title="åã€ä»»æ„å­˜å–æ–‡ä»¶æµ"></a>åã€ä»»æ„å­˜å–æ–‡ä»¶æµ</h2><p><code>RandomAccessFile</code> çš„ä½¿ç”¨</p>
<h3 id="1-ç®€ä»‹-2"><a href="#1-ç®€ä»‹-2" class="headerlink" title="1.ç®€ä»‹"></a>1.ç®€ä»‹</h3><ul>
<li><code>RandomAccessFile</code> ç›´æ¥ç»§æ‰¿äº <code>java.lang.Object</code> ç±»ï¼Œå®ç°äº† <code>DataInput</code> <code>å’ŒDataOutput</code> æ¥å£</li>
<li><code>RandomAccessFile</code> æ—¢å¯ä»¥ä½œä¸ºä¸€ä¸ªè¾“å…¥æµï¼Œåˆå¯ä»¥ä½œä¸ºä¸€ä¸ªè¾“å‡ºæµ</li>
<li><code>RandomAccessFile</code> ç±»æ”¯æŒâ€œéšæœºè®¿é—®â€çš„æ–¹å¼ï¼Œç¨‹åºå¯ä»¥ç›´æ¥è·³åˆ°æ–‡ä»¶çš„ä»»æ„åœ°æ–¹æ¥è¯»ã€å†™æ–‡ä»¶<ul>
<li>æ”¯æŒåªè®¿é—®æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹</li>
<li>å¯ä»¥å‘å·²å­˜åœ¨çš„æ–‡ä»¶åè¿½åŠ å†…å®¹</li>
</ul>
</li>
<li><code>RandomAccessFile</code> å¯¹è±¡åŒ…å«ä¸€ä¸ªè®°å½•æŒ‡é’ˆï¼Œç”¨ä»¥æ ‡ç¤ºå½“å‰è¯»å†™å¤„çš„ä½ç½®</li>
<li><code>RandomaccessFile</code> ç±»å¯¹è±¡å¯ä»¥è‡ªç”±ç§»åŠ¨è®°å½•æŒ‡é’ˆï¼š<ul>
<li><code>long getFilePointer()</code>ï¼šè·å–æ–‡ä»¶è®°å½•æŒ‡é’ˆçš„å½“å‰ä½ç½®</li>
<li><code> void seek(long pos)</code>ï¼šå°†æ–‡ä»¶è®°å½•æŒ‡é’ˆå®šä½åˆ° <code>pos</code> ä½ç½®</li>
</ul>
</li>
</ul>
<p><strong>æ„é€ å™¨</strong></p>
<p><code>public RandomAccessFile(File file,String mode)</code> <code> </code>public RandomAccessFile(String name,String mode)</p>
<h3 id="2-ä½¿ç”¨è¯´æ˜ï¼š"><a href="#2-ä½¿ç”¨è¯´æ˜ï¼š" class="headerlink" title="2.ä½¿ç”¨è¯´æ˜ï¼š"></a>2.ä½¿ç”¨è¯´æ˜ï¼š</h3><ol>
<li><p>å¦‚æœ <code>RandomAccessFile</code> ä½œä¸ºè¾“å‡ºæµæ—¶ï¼Œå†™å‡ºåˆ°çš„æ–‡ä»¶å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è‡ªåŠ¨åˆ›å»ºã€‚</p>
</li>
<li><p>å¦‚æœå†™å‡ºåˆ°çš„æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ä¼šå¯¹åŸæ–‡ä»¶å†…å®¹è¿›è¡Œè¦†ç›–ã€‚ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œä»å¤´è¦†ç›–ï¼‰</p>
</li>
<li><p>å¯ä»¥é€šè¿‡ç›¸å…³çš„æ“ä½œï¼Œå®ç° <code>RandomAccessFile</code> <strong>â€œæ’å…¥â€</strong>æ•°æ®çš„æ•ˆæœã€‚å€ŸåŠ© <code>seek(int pos)</code> æ–¹æ³•</p>
</li>
<li><p>åˆ›å»º </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RandomAccessFile</span><br></pre></td></tr></table></figure>

<p> ç±»å®ä¾‹éœ€è¦æŒ‡å®šä¸€ä¸ª </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mode</span><br></pre></td></tr></table></figure>

<p> å‚æ•°ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¯¥å‚æ•°æŒ‡å®šRandomAccessFile</span><br></pre></td></tr></table></figure>

<p> çš„è®¿é—®æ¨¡å¼: </p>
<ul>
<li>rï¼šä»¥åªè¯»æ–¹å¼æ‰“å¼€</li>
<li>rwï¼šæ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥</li>
<li>rwdï¼šæ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥ï¼›åŒæ­¥æ–‡ä»¶å†…å®¹çš„æ›´æ–°</li>
<li>rwsï¼šæ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥ï¼›åŒæ­¥æ–‡ä»¶å†…å®¹å’Œå…ƒæ•°æ®çš„æ›´æ–°</li>
</ul>
</li>
<li><p>å¦‚æœæ¨¡å¼ä¸ºåªè¯» r ,åˆ™ä¸ä¼šåˆ›å»ºæ–‡ä»¶ï¼Œè€Œæ˜¯ä¼šå»è¯»å–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–‡ä»¶,è¯»å–çš„æ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šå‡ºç°å¼‚å¸¸ã€‚å¦‚æœæ¨¡å¼ä¸º rw è¯»å†™,æ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šå»åˆ›å»ºæ–‡ä»¶ï¼Œå­˜åœ¨åˆ™ä¸ä¼šåˆ›å»ºã€‚</p>
</li>
</ol>
<h3 id="3-ä½¿ç”¨ç¤ºä¾‹-1"><a href="#3-ä½¿ç”¨ç¤ºä¾‹-1" class="headerlink" title="3. ä½¿ç”¨ç¤ºä¾‹"></a>3. ä½¿ç”¨ç¤ºä¾‹</h3><p>æ–‡ä»¶çš„è¯»å–å’Œå†™å‡ºæ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">RandomAccessFile</span> <span class="variable">raf1</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">RandomAccessFile</span> <span class="variable">raf2</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºæµ</span></span><br><span class="line">        raf1 = <span class="keyword">new</span> <span class="title class_">RandomAccessFile</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.jpg&quot;</span>),<span class="string">&quot;r&quot;</span>);</span><br><span class="line">        raf2 = <span class="keyword">new</span> <span class="title class_">RandomAccessFile</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test1.jpg&quot;</span>),<span class="string">&quot;rw&quot;</span>);</span><br><span class="line">        <span class="comment">//2.æ“ä½œæµ</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = raf1.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            raf2.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//3.å…³é—­æµ</span></span><br><span class="line">        <span class="keyword">if</span>(raf1 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                raf1.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(raf2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                raf2.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>RandomAccessFile</code> å®ç°æ•°æ®çš„æ’å…¥æ•ˆæœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">RandomAccessFile</span> <span class="variable">raf1</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        raf1 = <span class="keyword">new</span> <span class="title class_">RandomAccessFile</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>), <span class="string">&quot;rw&quot;</span>);</span><br><span class="line"></span><br><span class="line">        raf1.seek(<span class="number">3</span>);<span class="comment">//å°†æŒ‡é’ˆè°ƒåˆ°è§’æ ‡ä¸º3çš„ä½ç½®</span></span><br><span class="line">        <span class="comment">//            //æ–¹å¼ä¸€</span></span><br><span class="line">        <span class="comment">//            //ä¿å­˜æŒ‡é’ˆ3åé¢çš„æ‰€æœ‰æ•°æ®åˆ°StringBuilderä¸­</span></span><br><span class="line">        <span class="comment">//            StringBuilder builder = new StringBuilder((int) new File(&quot;hello.txt&quot;).length());</span></span><br><span class="line">        <span class="comment">//            byte[] buffer = new byte[20];</span></span><br><span class="line">        <span class="comment">//            int len;</span></span><br><span class="line">        <span class="comment">//            while ((len = raf1.read(buffer)) != -1)&#123;</span></span><br><span class="line">        <span class="comment">//                builder.append(new String(buffer,0,len));</span></span><br><span class="line">        <span class="comment">//            &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹å¼äºŒ</span></span><br><span class="line">        <span class="type">ByteArrayOutputStream</span> <span class="variable">baos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = raf1.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            baos.write(buffer);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è°ƒå›æŒ‡é’ˆï¼Œå†™å…¥â€œxyzâ€</span></span><br><span class="line">        raf1.seek(<span class="number">3</span>);</span><br><span class="line">        raf1.write(<span class="string">&quot;xyz&quot;</span>.getBytes());</span><br><span class="line">        <span class="comment">//å°†StringBuilderä¸­çš„æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­</span></span><br><span class="line">        raf1.write(baos.toString().getBytes());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (raf1 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                raf1.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="åä¸€ã€æµçš„åŸºæœ¬åº”ç”¨æ€»ç»“"><a href="#åä¸€ã€æµçš„åŸºæœ¬åº”ç”¨æ€»ç»“" class="headerlink" title="åä¸€ã€æµçš„åŸºæœ¬åº”ç”¨æ€»ç»“"></a>åä¸€ã€æµçš„åŸºæœ¬åº”ç”¨æ€»ç»“</h2><ul>
<li><p>æµæ˜¯ç”¨æ¥å¤„ç†æ•°æ®çš„ã€‚</p>
</li>
<li><p>å¤„ç†æ•°æ®æ—¶ï¼Œä¸€å®šè¦å…ˆæ˜ç¡®æ•°æ®æºï¼Œä¸æ•°æ®ç›®çš„åœ°æ•°æ®æºå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯é”®ç›˜æ•°æ®ç›®çš„åœ°å¯ä»¥æ˜¯æ–‡ä»¶ã€æ˜¾ç¤ºå™¨æˆ–è€…å…¶ä»–è®¾å¤‡</p>
</li>
<li><p>è€Œæµåªæ˜¯åœ¨å¸®åŠ©æ•°æ®è¿›è¡Œä¼ è¾“ï¼Œå¹¶å¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚è¿‡æ»¤å¤„ç†ã€è½¬æ¢å¤„ç†ç­‰</p>
</li>
<li><p>é™¤å»RandomAccessFileç±»å¤–æ‰€æœ‰çš„æµéƒ½ç»§æ‰¿äºå››ä¸ªåŸºæœ¬æ•°æ®æµæŠ½è±¡ç±»InputSteamã€OutputSteamã€Readerã€Writer</p>
</li>
<li><p>ä¸åŒçš„æ“ä½œæµå¯¹åº”çš„åç¼€å‡ä¸ºå››ä¸ªæŠ½è±¡åŸºç±»ä¸­çš„æŸä¸€ä¸ª</p>
<p><img src="/2022/05/31/javaIO/59ee6f429cf94040a78337c525fb394f_tplv-k3u1fbpfcp-zoom-in-crop-mark_1304_0_0_0.awebp" alt="image-20200502091615386" loading="lazy"></p>
</li>
<li><p>ä¸åŒå¤„ç†æµçš„ä½¿ç”¨æ–¹å¼éƒ½æ˜¯æ ‡å‡†æ“ä½œï¼š</p>
<ul>
<li>åˆ›å»ºæ–‡ä»¶å¯¹è±¡ï¼Œåˆ›å»ºç›¸åº”çš„æµ</li>
<li>å¤„ç†æµæ•°æ®</li>
<li>å…³é—­æµ</li>
<li>ç”¨try-catch-finallyå¤„ç†å¼‚å¸¸</li>
</ul>
</li>
</ul>
<h2 id="åäºŒã€NIO"><a href="#åäºŒã€NIO" class="headerlink" title="åäºŒã€NIO"></a>åäºŒã€NIO</h2><p>Pathã€Pathsã€Filesçš„ä½¿ç”¨ï¼Œä»‹ç»æ¯”è¾ƒç®€å•ï¼ŒåæœŸä¼šå†æŠ½æ—¶é—´è¯¦ç»†å†™æœ‰å…³ <code>NIO</code> çš„åšå®¢ã€‚</p>
<h3 id="1-NIOçš„ä½¿ç”¨è¯´æ˜ï¼š"><a href="#1-NIOçš„ä½¿ç”¨è¯´æ˜ï¼š" class="headerlink" title="1.NIOçš„ä½¿ç”¨è¯´æ˜ï¼š"></a>1.NIOçš„ä½¿ç”¨è¯´æ˜ï¼š</h3><ul>
<li>Java NIO (New IOï¼ŒNon-Blocking IO)æ˜¯ä»Java 1.4ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ä¸€å¥—æ–°çš„IO APIï¼Œå¯ä»¥æ›¿ä»£æ ‡å‡†çš„Java IO APã€‚</li>
<li>NIO ä¸åŸæ¥çš„ IO åŒæ ·çš„ä½œç”¨å’Œç›®çš„ï¼Œä½†æ˜¯ä½¿ç”¨çš„æ–¹å¼å®Œå…¨ä¸åŒï¼ŒNIO æ”¯æŒé¢å‘ç¼“å†²åŒºçš„(IOæ˜¯é¢å‘æµçš„)ã€åŸºäºé€šé“çš„IOæ“ä½œã€‚</li>
<li>NIO å°†ä»¥æ›´åŠ é«˜æ•ˆçš„æ–¹å¼è¿›è¡Œæ–‡ä»¶çš„è¯»å†™æ“ä½œã€‚</li>
<li>JDK 7.0å¯¹ NIO è¿›è¡Œäº†æå¤§çš„æ‰©å±•ï¼Œå¢å¼ºäº†å¯¹æ–‡ä»¶å¤„ç†å’Œæ–‡ä»¶ç³»ç»Ÿç‰¹æ€§çš„æ”¯æŒï¼Œç§°ä»–ä¸º NIO.2ã€‚</li>
</ul>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Java APIä¸­æä¾›äº†ä¸¤å¥—NIOï¼Œä¸€å¥—æ˜¯é’ˆå¯¹æ ‡å‡†è¾“å…¥è¾“å‡ºNIOï¼Œå¦ä¸€å¥—å°±æ˜¯ç½‘ç»œç¼–ç¨‹NIO</span><br><span class="line">|-----java.nio.channels.Channel</span><br><span class="line">      |---- FileChannelï¼šå¤„ç†æœ¬åœ°æ–‡ä»¶</span><br><span class="line">      |---- SocketChannelï¼šTCPç½‘ç»œç¼–ç¨‹çš„å®¢æˆ·ç«¯çš„Channel</span><br><span class="line">      |---- ServerSocketChannelï¼šTCPç½‘ç»œç¼–ç¨‹çš„æœåŠ¡å™¨ç«¯çš„Channel</span><br><span class="line">      |---- DatagramChannelï¼šUDPç½‘ç»œç¼–ç¨‹ä¸­å‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„Channel</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="2-Pathæ¥å£-â€”JDK-7-0æä¾›"><a href="#2-Pathæ¥å£-â€”JDK-7-0æä¾›" class="headerlink" title="2.Pathæ¥å£ â€”JDK 7.0æä¾›"></a>2.Pathæ¥å£ â€”JDK 7.0æä¾›</h3><ul>
<li>æ—©æœŸçš„ Java åªæä¾›äº†ä¸€ä¸ª <code>File</code> ç±»æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼Œä½† <code>File</code> ç±»çš„åŠŸèƒ½æ¯”è¾ƒæœ‰é™ï¼Œæ‰€æä¾›çš„æ–¹æ³•æ€§èƒ½ä¹Ÿä¸é«˜ã€‚è€Œä¸”ï¼Œå¤§å¤šæ•°æ–¹æ³•åœ¨å‡ºé”™æ—¶ä»…è¿”å›å¤±è´¥ï¼Œå¹¶ä¸ä¼šæä¾›å¼‚å¸¸ä¿¡æ¯ã€‚</li>
<li>NIO.2ä¸ºäº†å¼¥è¡¥è¿™ç§ä¸è¶³ï¼Œå¼•å…¥äº† <code>Path</code> æ¥å£ï¼Œä»£è¡¨ä¸€ä¸ªå¹³å°æ— å…³çš„å¹³å°è·¯å¾„ï¼Œæè¿°äº†ç›®å½•ç»“æ„ä¸­æ–‡ä»¶çš„ä½ç½®ã€‚<code>Path</code> å¯ä»¥çœ‹æˆæ˜¯ <code>File</code> ç±»çš„å‡çº§ç‰ˆæœ¬ï¼Œå®é™…å¼•ç”¨çš„èµ„æºä¹Ÿå¯ä»¥ä¸å­˜åœ¨ã€‚</li>
</ul>
<h4 id="2-1Pathçš„è¯´æ˜ï¼š"><a href="#2-1Pathçš„è¯´æ˜ï¼š" class="headerlink" title="2.1Pathçš„è¯´æ˜ï¼š"></a>2.1Pathçš„è¯´æ˜ï¼š</h4><p>Pathæ›¿æ¢åŸæœ‰çš„Fileç±»ã€‚</p>
<ul>
<li>åœ¨ä»¥å‰IOæ“ä½œéƒ½æ˜¯è¿™æ ·å†™çš„ï¼š <ul>
<li><code>import java.io.File</code></li>
<li><code>File file = new File(&quot;index.html&quot;);</code></li>
</ul>
</li>
<li>ä½†åœ¨Java7ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š <ul>
<li><code>import java.nio.file.Path;</code></li>
<li><code>import java.nio.file.Paths;</code></li>
<li><code>Path path = Paths.get(&quot;index. html&quot;);</code></li>
</ul>
</li>
</ul>
<h4 id="2-2-Pathsçš„ä½¿ç”¨"><a href="#2-2-Pathsçš„ä½¿ç”¨" class="headerlink" title="2.2 Pathsçš„ä½¿ç”¨"></a>2.2 Pathsçš„ä½¿ç”¨</h4><ul>
<li><code>Paths</code> ç±»æä¾›çš„é™æ€ <code>get()</code> æ–¹æ³•ç”¨æ¥è·å– <code>Path</code> å¯¹è±¡ï¼š</li>
<li><code>static Path get(String firstï¼Œ Stringâ€¦.more)</code>ï¼šç”¨äºå°†å¤šä¸ªå­—ç¬¦ä¸²ä¸²è¿æˆè·¯å¾„</li>
<li><code>static Path get(URI uri)</code>ï¼šè¿”å›æŒ‡å®š uri å¯¹åº”çš„ Path è·¯å¾„</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path1</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;hello.txt&quot;</span>);<span class="comment">//new File(String filepath)</span></span><br><span class="line"></span><br><span class="line">    <span class="type">Path</span> <span class="variable">path2</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;E:\\&quot;</span>, <span class="string">&quot;test\\test1\\haha.txt&quot;</span>);<span class="comment">//new File(String parent,String filename);</span></span><br><span class="line"></span><br><span class="line">    <span class="type">Path</span> <span class="variable">path3</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;E:\\&quot;</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(path1);</span><br><span class="line">    System.out.println(path2);</span><br><span class="line">    System.out.println(path3);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="2-3-å¸¸ç”¨æ–¹æ³•"><a href="#2-3-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.3 å¸¸ç”¨æ–¹æ³•"></a>2.3 å¸¸ç”¨æ–¹æ³•</h4><ul>
<li><code>String toString()</code> ï¼š è¿”å›è°ƒç”¨ <code>Path</code> å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼</li>
<li><code>boolean startsWith(String path)</code> : åˆ¤æ–­æ˜¯å¦ä»¥ <code>path</code> è·¯å¾„å¼€å§‹</li>
<li><code>boolean endsWith(String path)</code> : åˆ¤æ–­æ˜¯å¦ä»¥ <code>path</code> è·¯å¾„ç»“æŸ</li>
<li><code>boolean isAbsolute()</code> : åˆ¤æ–­æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„</li>
<li><code>Path getParent()</code> ï¼šè¿”å› <code>Path</code> å¯¹è±¡åŒ…å«æ•´ä¸ªè·¯å¾„ï¼Œä¸åŒ…å« <code>Path</code> å¯¹è±¡æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„</li>
<li><code>Path getRoot()</code> ï¼šè¿”å›è°ƒç”¨ <code>Path</code> å¯¹è±¡çš„æ ¹è·¯å¾„</li>
<li><code>Path getFileName()</code> : è¿”å›ä¸è°ƒç”¨ <code>Path</code> å¯¹è±¡å…³è”çš„æ–‡ä»¶å</li>
<li><code>int getNameCount()</code> : è¿”å› <code>Path</code> æ ¹ç›®å½•åé¢å…ƒç´ çš„æ•°é‡</li>
<li><code>Path getName(int idx)</code> : è¿”å›æŒ‡å®šç´¢å¼•ä½ç½® <code>idx</code> çš„è·¯å¾„åç§°</li>
<li><code>Path toAbsolutePath()</code> : ä½œä¸ºç»å¯¹è·¯å¾„è¿”å›è°ƒç”¨ <code>Path</code> å¯¹è±¡</li>
<li><code>Path resolve(Path p)</code> :åˆå¹¶ä¸¤ä¸ªè·¯å¾„ï¼Œè¿”å›åˆå¹¶åçš„è·¯å¾„å¯¹åº”çš„ <code>Path</code> å¯¹è±¡</li>
<li><code>File toFile()</code>: å°† <code>Path</code> è½¬åŒ–ä¸º <code>File</code> ç±»çš„å¯¹è±¡</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path1</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;d:\\&quot;</span>, <span class="string">&quot;nio\\nio1\\nio2\\hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path2</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		String toString() ï¼š è¿”å›è°ƒç”¨ Path å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼</span></span><br><span class="line">    System.out.println(path1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		boolean startsWith(String path) : åˆ¤æ–­æ˜¯å¦ä»¥ path è·¯å¾„å¼€å§‹</span></span><br><span class="line">    System.out.println(path1.startsWith(<span class="string">&quot;d:\\nio&quot;</span>));</span><br><span class="line">    <span class="comment">//		boolean endsWith(String path) : åˆ¤æ–­æ˜¯å¦ä»¥ path è·¯å¾„ç»“æŸ</span></span><br><span class="line">    System.out.println(path1.endsWith(<span class="string">&quot;hello.txt&quot;</span>));</span><br><span class="line">    <span class="comment">//		boolean isAbsolute() : åˆ¤æ–­æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„</span></span><br><span class="line">    System.out.println(path1.isAbsolute() + <span class="string">&quot;~&quot;</span>);</span><br><span class="line">    System.out.println(path2.isAbsolute() + <span class="string">&quot;~&quot;</span>);</span><br><span class="line">    <span class="comment">//		Path getParent() ï¼šè¿”å›Pathå¯¹è±¡åŒ…å«æ•´ä¸ªè·¯å¾„ï¼Œä¸åŒ…å« Path å¯¹è±¡æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">    System.out.println(path1.getParent());</span><br><span class="line">    System.out.println(path2.getParent());</span><br><span class="line">    <span class="comment">//		Path getRoot() ï¼šè¿”å›è°ƒç”¨ Path å¯¹è±¡çš„æ ¹è·¯å¾„</span></span><br><span class="line">    System.out.println(path1.getRoot());</span><br><span class="line">    System.out.println(path2.getRoot());</span><br><span class="line">    <span class="comment">//		Path getFileName() : è¿”å›ä¸è°ƒç”¨ Path å¯¹è±¡å…³è”çš„æ–‡ä»¶å</span></span><br><span class="line">    System.out.println(path1.getFileName() + <span class="string">&quot;~&quot;</span>);</span><br><span class="line">    System.out.println(path2.getFileName() + <span class="string">&quot;~&quot;</span>);</span><br><span class="line">    <span class="comment">//		int getNameCount() : è¿”å›Path æ ¹ç›®å½•åé¢å…ƒç´ çš„æ•°é‡</span></span><br><span class="line">    <span class="comment">//		Path getName(int idx) : è¿”å›æŒ‡å®šç´¢å¼•ä½ç½® idx çš„è·¯å¾„åç§°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; path1.getNameCount(); i++) &#123;</span><br><span class="line">        System.out.println(path1.getName(i) + <span class="string">&quot;*****&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		Path toAbsolutePath() : ä½œä¸ºç»å¯¹è·¯å¾„è¿”å›è°ƒç”¨ Path å¯¹è±¡</span></span><br><span class="line">    System.out.println(path1.toAbsolutePath());</span><br><span class="line">    System.out.println(path2.toAbsolutePath());</span><br><span class="line">    <span class="comment">//		Path resolve(Path p) :åˆå¹¶ä¸¤ä¸ªè·¯å¾„ï¼Œè¿”å›åˆå¹¶åçš„è·¯å¾„å¯¹åº”çš„Pathå¯¹è±¡</span></span><br><span class="line">    <span class="type">Path</span> <span class="variable">path3</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;d:\\&quot;</span>, <span class="string">&quot;nio&quot;</span>);</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path4</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;nioo\\hi.txt&quot;</span>);</span><br><span class="line">    path3 = path3.resolve(path4);</span><br><span class="line">    System.out.println(path3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		File toFile(): å°†Pathè½¬åŒ–ä¸ºFileç±»çš„å¯¹è±¡</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> path1.toFile();<span class="comment">//Path---&gt;Fileçš„è½¬æ¢</span></span><br><span class="line"></span><br><span class="line">    <span class="type">Path</span> <span class="variable">newPath</span> <span class="operator">=</span> file.toPath();<span class="comment">//File---&gt;Pathçš„è½¬æ¢</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="3-Filesç±»"><a href="#3-Filesç±»" class="headerlink" title="3.Filesç±»"></a>3.Filesç±»</h3><p><code>java.nio.file.Files</code> ç”¨äºæ“ä½œæ–‡ä»¶æˆ–ç›®å½•çš„å·¥å…·ç±»</p>
<h4 id="3-1-Filesç±»å¸¸ç”¨æ–¹æ³•"><a href="#3-1-Filesç±»å¸¸ç”¨æ–¹æ³•" class="headerlink" title="3.1 Filesç±»å¸¸ç”¨æ–¹æ³•"></a>3.1 Filesç±»å¸¸ç”¨æ–¹æ³•</h4><ul>
<li><p><code>Path copy(Path src, Path dest, CopyOption â€¦ how)</code> : æ–‡ä»¶çš„å¤åˆ¶</p>
<p>è¦æƒ³å¤åˆ¶æˆåŠŸï¼Œè¦æ±‚ <code>path1</code> å¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶å­˜åœ¨ã€‚<code>path1</code> å¯¹åº”çš„æ–‡ä»¶æ²¡æœ‰è¦æ±‚ã€‚</p>
</li>
<li><p><code>Files.copy(path1, path2, StandardCopyOption.REPLACE_EXISTING);</code></p>
</li>
<li><p><code>Path createDirectory(Path path, FileAttribute â€¦ attr)</code> : åˆ›å»ºä¸€ä¸ªç›®å½•</p>
<p>è¦æƒ³æ‰§è¡ŒæˆåŠŸï¼Œè¦æ±‚ <code>path</code> å¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶ç›®å½•ä¸å­˜åœ¨ã€‚ä¸€æ—¦å­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</p>
</li>
<li><p><code>Path createFile(Path path, FileAttribute â€¦ arr)</code> : åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</p>
</li>
<li><p>è¦æƒ³æ‰§è¡ŒæˆåŠŸï¼Œè¦æ±‚ <code>path</code> å¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶ä¸å­˜åœ¨ã€‚ä¸€æ—¦å­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</p>
</li>
<li><p><code>void delete(Path path)</code> : åˆ é™¤ä¸€ä¸ªæ–‡ä»¶/ç›®å½•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œæ‰§è¡ŒæŠ¥é”™</p>
</li>
<li><p><code>void deleteIfExists(Path path)</code> : <code>Path</code> å¯¹åº”çš„æ–‡ä»¶/ç›®å½•å¦‚æœå­˜åœ¨ï¼Œæ‰§è¡Œåˆ é™¤.å¦‚æœä¸å­˜åœ¨ï¼Œæ­£å¸¸æ‰§è¡Œç»“æŸ</p>
</li>
<li><p><code>Path move(Path src, Path dest, CopyOptionâ€¦how)</code> : å°† <code>src</code> ç§»åŠ¨åˆ° <code>dest</code> ä½ç½®</p>
<p>è¦æƒ³æ‰§è¡ŒæˆåŠŸï¼Œ<code>src</code> å¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶éœ€è¦å­˜åœ¨ï¼Œ<code>dest</code> å¯¹åº”çš„æ–‡ä»¶æ²¡æœ‰è¦æ±‚ã€‚</p>
</li>
<li><p><code>long size(Path path)</code> : è¿”å› <code>path</code> æŒ‡å®šæ–‡ä»¶çš„å¤§å°</p>
</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path1</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;d:\\nio&quot;</span>, <span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path2</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;atguigu.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		Path copy(Path src, Path dest, CopyOption â€¦ how) : æ–‡ä»¶çš„å¤åˆ¶</span></span><br><span class="line">    <span class="comment">//è¦æƒ³å¤åˆ¶æˆåŠŸï¼Œè¦æ±‚path1å¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶å­˜åœ¨ã€‚path1å¯¹åº”çš„æ–‡ä»¶æ²¡æœ‰è¦æ±‚ã€‚</span></span><br><span class="line">    <span class="comment">//		Files.copy(path1, path2, StandardCopyOption.REPLACE_EXISTING);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//		Path createDirectory(Path path, FileAttribute&lt;?&gt; â€¦ attr) : åˆ›å»ºä¸€ä¸ªç›®å½•</span></span><br><span class="line">    <span class="comment">//è¦æƒ³æ‰§è¡ŒæˆåŠŸï¼Œè¦æ±‚pathå¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶ç›®å½•ä¸å­˜åœ¨ã€‚ä¸€æ—¦å­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</span></span><br><span class="line">    <span class="type">Path</span> <span class="variable">path3</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;d:\\nio\\nio1&quot;</span>);</span><br><span class="line">    <span class="comment">//		Files.createDirectory(path3);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//		Path createFile(Path path, FileAttribute&lt;?&gt; â€¦ arr) : åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">    <span class="comment">//è¦æƒ³æ‰§è¡ŒæˆåŠŸï¼Œè¦æ±‚pathå¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶ä¸å­˜åœ¨ã€‚ä¸€æ—¦å­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</span></span><br><span class="line">    <span class="type">Path</span> <span class="variable">path4</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;d:\\nio\\hi.txt&quot;</span>);</span><br><span class="line">    <span class="comment">//		Files.createFile(path4);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//		void delete(Path path) : åˆ é™¤ä¸€ä¸ªæ–‡ä»¶/ç›®å½•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œæ‰§è¡ŒæŠ¥é”™</span></span><br><span class="line">    <span class="comment">//		Files.delete(path4);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//		void deleteIfExists(Path path) : Pathå¯¹åº”çš„æ–‡ä»¶/ç›®å½•å¦‚æœå­˜åœ¨ï¼Œæ‰§è¡Œåˆ é™¤.å¦‚æœä¸å­˜åœ¨ï¼Œæ­£å¸¸æ‰§è¡Œç»“æŸ</span></span><br><span class="line">    Files.deleteIfExists(path3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		Path move(Path src, Path dest, CopyOptionâ€¦how) : å°† src ç§»åŠ¨åˆ° dest ä½ç½®</span></span><br><span class="line">    <span class="comment">//è¦æƒ³æ‰§è¡ŒæˆåŠŸï¼Œsrcå¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶éœ€è¦å­˜åœ¨ï¼Œdestå¯¹åº”çš„æ–‡ä»¶æ²¡æœ‰è¦æ±‚ã€‚</span></span><br><span class="line">    <span class="comment">//		Files.move(path1, path2, StandardCopyOption.ATOMIC_MOVE);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//		long size(Path path) : è¿”å› path æŒ‡å®šæ–‡ä»¶çš„å¤§å°</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">size</span> <span class="operator">=</span> Files.size(path2);</span><br><span class="line">    System.out.println(size);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>



<h4 id="3-2-Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºåˆ¤æ–­"><a href="#3-2-Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºåˆ¤æ–­" class="headerlink" title="3.2 Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºåˆ¤æ–­"></a>3.2 Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºåˆ¤æ–­</h4><ul>
<li><p><code>boolean exists(Path path, LinkOption â€¦ opts)</code> : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</p>
</li>
<li><p><code>boolean isDirectory(Path path, LinkOption â€¦ opts) </code>: åˆ¤æ–­æ˜¯å¦æ˜¯ç›®å½•</p>
<p>ä¸è¦æ±‚æ­¤ <code>path</code> å¯¹åº”çš„ç‰©ç†æ–‡ä»¶å­˜åœ¨ã€‚</p>
</li>
<li><p><code>boolean isRegularFile(Path path, LinkOption â€¦ opts) </code>: åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</p>
</li>
<li><p><code>boolean isHidden(Path path)</code> : åˆ¤æ–­æ˜¯å¦æ˜¯éšè—æ–‡ä»¶</p>
<p>è¦æ±‚æ­¤ <code>path</code> å¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶éœ€è¦å­˜åœ¨ã€‚æ‰å¯åˆ¤æ–­æ˜¯å¦éšè—ã€‚å¦åˆ™ï¼ŒæŠ›å¼‚å¸¸ã€‚</p>
</li>
<li><p><code>boolean isReadable(Path path)</code> : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯è¯»</p>
</li>
<li><p><code>boolean isWritable(Path path)</code> : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯å†™</p>
</li>
<li><p><code>boolean notExists(Path path, LinkOption â€¦ opts)</code> : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸å­˜åœ¨</p>
</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path1</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;d:\\nio&quot;</span>, <span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path2</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;atguigu.txt&quot;</span>);</span><br><span class="line">    <span class="comment">//		boolean exists(Path path, LinkOption â€¦ opts) : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    System.out.println(Files.exists(path2, LinkOption.NOFOLLOW_LINKS));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		boolean isDirectory(Path path, LinkOption â€¦ opts) : åˆ¤æ–­æ˜¯å¦æ˜¯ç›®å½•</span></span><br><span class="line">    <span class="comment">//ä¸è¦æ±‚æ­¤pathå¯¹åº”çš„ç‰©ç†æ–‡ä»¶å­˜åœ¨ã€‚</span></span><br><span class="line">    System.out.println(Files.isDirectory(path1, LinkOption.NOFOLLOW_LINKS));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		boolean isRegularFile(Path path, LinkOption â€¦ opts) : åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//		boolean isHidden(Path path) : åˆ¤æ–­æ˜¯å¦æ˜¯éšè—æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">//è¦æ±‚æ­¤pathå¯¹åº”çš„ç‰©ç†ä¸Šçš„æ–‡ä»¶éœ€è¦å­˜åœ¨ã€‚æ‰å¯åˆ¤æ–­æ˜¯å¦éšè—ã€‚å¦åˆ™ï¼ŒæŠ›å¼‚å¸¸ã€‚</span></span><br><span class="line">    <span class="comment">//		System.out.println(Files.isHidden(path1));</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//		boolean isReadable(Path path) : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯è¯»</span></span><br><span class="line">    System.out.println(Files.isReadable(path1));</span><br><span class="line">    <span class="comment">//		boolean isWritable(Path path) : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯å†™</span></span><br><span class="line">    System.out.println(Files.isWritable(path1));</span><br><span class="line">    <span class="comment">//		boolean notExists(Path path, LinkOption â€¦ opts) : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸å­˜åœ¨</span></span><br><span class="line">    System.out.println(Files.notExists(path1, LinkOption.NOFOLLOW_LINKS));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p><strong>è¡¥å……ï¼š</strong></p>
<ul>
<li><code>StandardOpenOption.READ</code>:è¡¨ç¤ºå¯¹åº”çš„ <code>Channel</code> æ˜¯å¯è¯»çš„ã€‚</li>
<li><code>StandardOpenOption.WRITE</code>ï¼šè¡¨ç¤ºå¯¹åº”çš„ <code>Channel</code> æ˜¯å¯å†™çš„ã€‚</li>
<li><code>StandardOpenOption.CREATE</code>ï¼šå¦‚æœè¦å†™å‡ºçš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºã€‚å¦‚æœå­˜åœ¨ï¼Œå¿½ç•¥</li>
<li><code>StandardOpenOption.CREATE_NEW</code>ï¼šå¦‚æœè¦å†™å‡ºçš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºã€‚å¦‚æœå­˜åœ¨ï¼ŒæŠ›å¼‚å¸¸</li>
</ul>
<h4 id="3-3-Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºæ“ä½œå†…å®¹"><a href="#3-3-Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºæ“ä½œå†…å®¹" class="headerlink" title="3.3 Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºæ“ä½œå†…å®¹"></a>3.3 Filesç±»å¸¸ç”¨æ–¹æ³•ï¼šç”¨äºæ“ä½œå†…å®¹</h4><ul>
<li><code>InputStream newInputStream(Path path, OpenOptionâ€¦how)</code>:è·å– <code>InputStream</code> å¯¹è±¡</li>
<li><code>OutputStream newOutputStream(Path path, OpenOptionâ€¦how)</code> : è·å– <code>OutputStream</code> å¯¹è±¡</li>
<li><code>SeekableByteChannel newByteChannel(Path path, OpenOptionâ€¦how)</code> : è·å–ä¸æŒ‡å®šæ–‡ä»¶çš„è¿æ¥ï¼Œ<code>how</code> æŒ‡å®šæ‰“å¼€æ–¹å¼ã€‚</li>
<li><code>DirectoryStream newDirectoryStream(Path path)</code> : æ‰“å¼€ <code>path</code> æŒ‡å®šçš„ç›®å½•</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">    <span class="type">Path</span> <span class="variable">path1</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;d:\\nio&quot;</span>, <span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		InputStream newInputStream(Path path, OpenOptionâ€¦how):è·å– InputStream å¯¹è±¡</span></span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Files.newInputStream(path1, StandardOpenOption.READ);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		OutputStream newOutputStream(Path path, OpenOptionâ€¦how) : è·å– OutputStream å¯¹è±¡</span></span><br><span class="line">    <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> Files.newOutputStream(path1, StandardOpenOption.WRITE,StandardOpenOption.CREATE);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//		SeekableByteChannel newByteChannel(Path path, OpenOptionâ€¦how) : è·å–ä¸æŒ‡å®šæ–‡ä»¶çš„è¿æ¥ï¼Œhow æŒ‡å®šæ‰“å¼€æ–¹å¼ã€‚</span></span><br><span class="line">    <span class="type">SeekableByteChannel</span> <span class="variable">channel</span> <span class="operator">=</span> Files.newByteChannel(path1, StandardOpenOption.READ,StandardOpenOption.WRITE,StandardOpenOption.CREATE);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//		DirectoryStream&lt;Path&gt;  newDirectoryStream(Path path) : æ‰“å¼€ path æŒ‡å®šçš„ç›®å½•</span></span><br><span class="line">    <span class="type">Path</span> <span class="variable">path2</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;e:\\teach&quot;</span>);</span><br><span class="line">    DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(path2);</span><br><span class="line">    Iterator&lt;Path&gt; iterator = directoryStream.iterator();</span><br><span class="line">    <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/alipay.jpg"><img loading="lazy" src="/images/alipay.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/wechatpay.png"><img loading="lazy" src="/images/wechatpay.png" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>ç¿”ä»”</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://example.com/2022/05/31/javaIO/" title="javaIO">http://example.com/2022/05/31/javaIO/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/06/02/Linux/" rel="prev" title="Linux"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Linux</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/05/28/RabbitMQ/" rel="next" title="RabbitMQ"><span class="post-nav-text">RabbitMQ</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2022 </span><span class="with-love" id="animate" title="äº‘æ¸¸å›çš„èµåŠ©è€…ä»¬"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> ç¿”ä»”</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v5.4.2</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.8.11</span></div><div class="live-time"><span>æœ¬åšå®¢å·²è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2022-04-10T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} å¤© ${passHour} å°æ—¶ ${passMinute} åˆ† ${passSecond} ç§’`;
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>